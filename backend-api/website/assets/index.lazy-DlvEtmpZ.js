import{m as W,r as d,j as e,C as w,n as N,o as S,p as C,q as b,s as se,v as ae,S as g,c as te}from"./index-By8YJrdC.js";import{u as re,a as le,b as ie,c as oe,d as ce,e as ne,f as de}from"./index-CDWW3x1E.js";import{H as xe,S as he,T as fe,P as me,M as pe}from"./theme-switch-BY8tNAc1.js";import{T,a as D,b as u,c as l,d as F,e as i}from"./table-Bv1KaM5_.js";import{T as P,a as O,b as v,c as _,C as H,X as J,Y as ue}from"./YAxis-BnXPoZff.js";import{C as E,a as I,b as V,A as je,c as ye,d as ge,e as ve,f as _e,g as ke}from"./accordion-B3-sAsTz.js";import{S as X,a as Z,b as Q,c as ee,d as A}from"./select-CFewNsWn.js";import{A as be,a as M}from"./AreaChart-BYlP_KGp.js";import{T as R}from"./trending-up-BWOGI8AY.js";import{T as we}from"./trending-down-C1lpO8gB.js";import{C as G}from"./circle-alert-ChKOY3ny.js";import{C as Ne}from"./clock-C-RYs_H9.js";import{P as $,a as U,B as Se}from"./PieChart-oSx2ucEq.js";import{C as Y,L as q,T as Ce,B as Te}from"./generateCategoricalChart-BIPi9lWF.js";import"./useQuery-DhF4caix.js";import"./chevron-down-C1tfVdut.js";import"./PolarAngleAxis-mI3gPpeK.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=W("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=W("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);function Me(){const[s,o]=d.useState([]),[a,r]=d.useState([]),{mutate:f}=re({onSuccess(t,x,k){var h,j;console.log("data top",(h=t.data)==null?void 0:h.tasks[0].result[0].items),o((j=t.data)==null?void 0:j.tasks[0].result[0].items)}}),{mutate:m}=le({onSuccess(t,x,k){var h,j;console.log("data back",(h=t.data)==null?void 0:h.tasks[0].result[0].items),r((j=t.data)==null?void 0:j.tasks[0].result[0].items)}});return d.useEffect(()=>{f([{target:"forbes.com",limit:4,order_by:["backlinks,desc"],filters:["anchor","like","%news%"]}]),m([{target:"backlinko.com",limit:5,order_by:["rank,desc"],exclude_internal_backlinks:!0,backlinks_filters:["dofollow","=",!0],filters:["backlinks",">",100]}])},[]),e.jsxs(w,{children:[e.jsx(N,{className:"flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row",children:e.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6",children:[e.jsx(S,{children:"Website Backlinks"}),e.jsx(C,{children:"See backlinks to your website and their status."})]})}),e.jsx(b,{className:"px-2 sm:p-6",children:e.jsxs(P,{defaultValue:"top-anchor",className:"w-full",children:[e.jsx("div",{className:"w-full overflow-x-auto py-4 sm:py-0",children:e.jsxs(O,{children:[e.jsx(v,{value:"top-anchor",children:"Top Anchors"}),e.jsx(v,{value:"referring-domain",children:"Referring Domains"})]})}),e.jsx(_,{value:"top-anchor",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(T,{className:"w-full",children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(l,{children:"Anchor"}),e.jsx(l,{children:"Backlinks"}),e.jsx(l,{children:"Percentage"}),e.jsx(l,{children:"Avg DA"}),e.jsx(l,{children:"Type"})]})}),e.jsx(F,{children:s.map((t,x)=>e.jsxs(u,{children:[e.jsx(i,{children:t.anchor}),e.jsx(i,{children:t.backlinks}),e.jsx(i,{children:t.percentage}),e.jsx(i,{children:t.rank}),e.jsx(i,{children:t.referring_links_platform_types.unknown})]},x))})]})})}),e.jsx(_,{value:"referring-domain",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(T,{className:"w-full",children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(l,{children:"Domain"}),e.jsx(l,{children:"Backlinks"}),e.jsx(l,{children:"DA"}),e.jsx(l,{children:"Spam"}),e.jsx(l,{children:"Dofollow"}),e.jsx(l,{children:"First Seen"}),e.jsx(l,{children:"Last Seen"})]})}),e.jsx(F,{children:a.map((t,x)=>e.jsxs(u,{children:[e.jsx(i,{children:t.domain}),e.jsx(i,{children:t.backlinks}),e.jsx(i,{children:t.rank}),e.jsxs(i,{children:[t.backlinks_spam_score,"%"]}),e.jsx(i,{children:t.dofollow}),e.jsx(i,{children:new Intl.DateTimeFormat("en-US",{month:"short",year:"numeric"}).format(new Date(t.first_seen))}),e.jsx(i,{children:t.lastSeen})]},x))})]})})})]})})]})}function Ae(){const[s,o]=d.useState([]),{mutate:a}=ie({onSuccess(r,f,m){console.log("data",r.data),o(r.data)}});return d.useEffect(()=>{a({domain:"newmouth.com"})},[]),console.log(s),e.jsxs(w,{children:[e.jsx(N,{className:"flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row",children:e.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6",children:[e.jsx(S,{children:"Website Competitors"}),e.jsx(C,{children:"See how your website compares to competitors in terms of traffic."})]})}),e.jsx(b,{className:"px-2 sm:p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(T,{children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(l,{children:"Competitor Website"}),e.jsx(l,{children:"Domain Authority"}),e.jsx(l,{children:"Organic Traffic"}),e.jsx(l,{children:"Total Backlinks"}),e.jsx(l,{children:"Referring Domains"}),e.jsx(l,{children:"Keyword Overlap"}),e.jsx(l,{children:"Content Type"})]})}),e.jsx(F,{children:s.map((r,f)=>e.jsxs(u,{children:[e.jsx(i,{className:"font-medium",children:r.domain}),e.jsx(i,{children:r.domain_authority}),e.jsx(i,{children:Math.round(r.etv)}),e.jsx(i,{children:r.backlinks}),e.jsx(i,{children:r.referring_domains}),e.jsx(i,{children:r.intersections}),e.jsx(i,{children:r.content_type})]},f))})]})})})]})}const Be=[{date:"2025-04-05",keyword_positions:{top_3:8,position_4_10:67,position_11_20:893,position_21_50:1237,position_51_100:1449},total_keywords:8654},{date:"2025-04-06",keyword_positions:{top_3:110,position_4_10:175,position_11_20:910,position_21_50:1201,position_51_100:1400},total_keywords:8596},{date:"2025-04-07",keyword_positions:{top_3:112,position_4_10:180,position_11_20:925,position_21_50:1150,position_51_100:1350},total_keywords:8550},{date:"2025-04-08",keyword_positions:{top_3:135,position_4_10:85,position_11_20:440,position_21_50:1100,position_51_100:1300},total_keywords:8500},{date:"2025-04-09",keyword_positions:{top_3:218,position_4_10:590,position_11_20:955,position_21_50:1050,position_51_100:250},total_keywords:8450},{date:"2025-04-10",keyword_positions:{top_3:420,position_4_10:95,position_11_20:570,position_21_50:400,position_51_100:600},total_keywords:8400},{date:"2025-04-11",keyword_positions:{top_3:520,position_4_10:90,position_11_20:600,position_21_50:300,position_51_100:500},total_keywords:8350},{date:"2025-04-12",keyword_positions:{top_3:620,position_4_10:80,position_11_20:700,position_21_50:200,position_51_100:400},total_keywords:8300}];function Le(){const[s,o]=d.useState("30d"),[a,r]=d.useState([]),{mutate:f}=oe({onSuccess(t,x,k){var h,j;console.log("data",(h=t.data)==null?void 0:h.tasks[0].result[0].items),r((j=t.data)==null?void 0:j.tasks[0].result[0].items)}}),m=d.useMemo(()=>{const t=new Date;let x;return s==="1y"?x=new Date(t.getFullYear()-1,t.getMonth(),t.getDate()):s==="6m"?x=new Date(t.getFullYear(),t.getMonth()-6,t.getDate()):x=new Date(t.getFullYear(),t.getMonth(),t.getDate()-30),Be.filter(k=>new Date(k.date)>=x)},[s]);return d.useEffect(()=>{f([{target:"dataforseo.com",language_name:"English",location_name:"United States",include_serp_info:!0,load_rank_absolute:!0,limit:3}])},[]),e.jsxs(w,{children:[e.jsxs(N,{className:"flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row",children:[e.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6",children:[e.jsx(S,{children:"Website Keywords"}),e.jsx(C,{children:"Explore keyword positions and details"})]}),e.jsx("div",{className:"flex items-center justify-end gap-2 px-6 py-5 sm:py-6",children:e.jsxs(X,{value:s,onValueChange:t=>o(t),children:[e.jsx(Z,{className:"w-[200px]",children:e.jsx(Q,{placeholder:"Select Time Range"})}),e.jsxs(ee,{children:[e.jsx(A,{value:"1y",children:"Last 1 Year"}),e.jsx(A,{value:"6m",children:"Last 6 Months"}),e.jsx(A,{value:"30d",children:"Last 30 Days"})]})]})})]}),e.jsxs(P,{defaultValue:"chart",children:[e.jsx("div",{className:"w-full overflow-x-auto px-6 py-5 sm:pt-6",children:e.jsxs(O,{children:[e.jsx(v,{value:"chart",children:"Keywords Position"}),e.jsx(v,{value:"table",children:"Keywords Table"})]})}),e.jsx(_,{value:"chart",children:e.jsx(b,{className:"px-2 sm:p-6",children:e.jsx(E,{className:"aspect-auto h-[250px] w-full",config:{primaryAxis:{label:"Time",color:"#64748b"},secondaryAxis:{label:"Keywords",color:"#4ade80"}},children:e.jsxs(be,{data:m,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"fillTop3",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#4ade80",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#4ade80",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"fill4_10",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#60a5fa",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#60a5fa",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"fill11_20",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#c084fc",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#c084fc",stopOpacity:.1})]})]}),e.jsx(H,{vertical:!1}),e.jsx(J,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:t=>new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsx(I,{cursor:!1,content:e.jsx(V,{labelFormatter:t=>new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}),indicator:"dot"})}),e.jsx(M,{name:"Top 3",dataKey:"keyword_positions.top_3",type:"monotone",fill:"url(#fillTop3)",stroke:"#4ade80",stackId:"1"}),e.jsx(M,{name:"Positions 4-10",dataKey:"keyword_positions.position_4_10",type:"monotone",fill:"url(#fill4_10)",stroke:"#60a5fa",stackId:"1"}),e.jsx(M,{name:"Positions 11-20",dataKey:"keyword_positions.position_11_20",type:"monotone",fill:"url(#fill11_20)",stroke:"#c084fc",stackId:"1"}),e.jsx(M,{name:"Positions 21-50",dataKey:"keyword_positions.position_21_50",type:"monotone",fill:"#cbd5e1",stroke:"#cbd5e1",stackId:"1"}),e.jsx(M,{name:"Positions 51-100",dataKey:"keyword_positions.position_51_100",type:"monotone",fill:"#f3f4f6",stroke:"#f3f4f6",stackId:"1"})]})})})}),e.jsx(_,{value:"table",children:e.jsx(b,{className:"px-2 sm:p-6",children:e.jsxs(T,{children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(l,{children:"Keyword"}),e.jsx(l,{children:"Intent"}),e.jsx(l,{children:"Search Volume"}),e.jsx(l,{children:"Competition"}),e.jsx(l,{children:"Ranking Position"}),e.jsx(l,{children:"CPC"}),e.jsx(l,{children:"Traffic"})]})}),e.jsx(F,{children:a&&a.map((t,x)=>e.jsxs(u,{children:[e.jsx(i,{children:t.keyword_data.keyword}),e.jsx(i,{children:t.keyword_data.search_intent_info.main_intent}),e.jsx(i,{children:t.keyword_data.keyword_info.search_volume}),e.jsx(i,{children:t.keyword_data.keyword_info.competition}),e.jsx(i,{children:t.ranked_serp_element.serp_item.rank_absolute}),e.jsx(i,{children:t.keyword_data.keyword_info.cpc}),e.jsx(i,{children:t.ranked_serp_element.serp_item.etv})]},x))})]})})})]})]})}function Ke(){const s=[{label:"Organic Search Traffic",value:"1,500",icon:e.jsx(R,{className:"size-4"}),change:"+10%",positive:!0},{label:"Backlinks",value:"2,300",icon:e.jsx(R,{className:"size-4"}),change:"+15%",positive:!0},{label:"Page Score",value:"8 / 10",icon:e.jsx(R,{className:"size-4"}),change:"+1",positive:!0},{label:"Social Media Score",value:"7 / 10",icon:e.jsx(we,{className:"size-4"}),change:"-1",positive:!1}];return e.jsx("div",{className:"grid gap-4 md:grid-cols-2 md:gap-4 lg:grid-cols-4",children:s.map((o,a)=>e.jsxs(w,{className:"@container/card",children:[e.jsxs(N,{className:"relative pb-2",children:[e.jsx(C,{children:o.label}),e.jsx(S,{className:"@[250px]/card:text-3xl text-3xl font-bold tabular-nums",children:o.value}),e.jsx("div",{className:"absolute right-4 top-4",children:e.jsxs(se,{variant:"outline",className:"flex gap-1 rounded-lg text-xs",children:[o.icon,o.change]})})]}),e.jsx(ae,{className:"flex-col items-start gap-1 text-sm",children:e.jsxs("div",{className:"line-clamp-1 flex gap-2 font-medium",children:[o.positive?"Positive trend":"Needs improvement"," ",o.icon]})})]},a))})}function B({value:s,label:o,icon:a,color:r}){return e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[e.jsxs("div",{className:"relative h-32 w-32",children:[e.jsxs("svg",{className:"h-full w-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{className:"stroke-muted-foreground/20",cx:"50",cy:"50",r:"40",strokeWidth:"8",fill:"transparent"}),e.jsx("circle",{className:r,cx:"50",cy:"50",r:"40",strokeWidth:"8",fill:"transparent",strokeDasharray:"251.2",strokeDashoffset:251.2-251.2*s/100,transform:"rotate(-90 50 50)"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"mb-1",children:a}),e.jsx("div",{className:"text-2xl font-bold",children:s}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s===100?"Perfect":s>80?"Good":s>50?"Average":"Poor"})]})]}),e.jsx("div",{className:"mt-2 text-center font-medium",children:o})]})}function ze(){const{data:s,isSuccess:o,isLoading:a}=ce({url:"https://google.com"},{onSuccess(m){console.log("web data",m)}}),r={pageSize:1.2};o&&console.log("web data",s);function f(m){const t=m.match(/\d+/);return t?`Size was ${(parseFloat(t[0])*.0009765625).toFixed(2)} MB`:"0 MB"}return e.jsxs(w,{children:[e.jsx(N,{className:"flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row",children:e.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6",children:[e.jsx(S,{children:"Website Speed"}),e.jsx(C,{children:"Performance metrics for your website"})]})}),e.jsx(b,{className:"p-0",children:e.jsxs(P,{defaultValue:"overview",className:"w-full",children:[e.jsx("div",{className:"w-full overflow-x-auto px-6 pt-5 sm:pt-6",children:e.jsxs(O,{children:[e.jsx(v,{value:"overview",children:"Speed Overview"}),e.jsx(v,{value:"issues",children:"Top Issues"})]})}),e.jsx(_,{value:"overview",className:"p-6",children:a?e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(g,{className:"h-[150px]"}),e.jsx(g,{className:"h-[150px]"}),e.jsx(g,{className:"h-[150px]"}),e.jsx(g,{className:"h-[150px]"})]}):e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(B,{value:s!=null&&s.seoScore?s==null?void 0:s.seoScore:0,label:"SEO Score",icon:e.jsx(G,{className:"h-5 w-5 text-[hsl(var(--chart-1))]"}),color:"stroke-[hsl(var(--chart-1))]"}),e.jsx(B,{value:s!=null&&s.performanceScore?s==null?void 0:s.performanceScore:0,label:`Load Time (${s==null?void 0:s.tti}s)`,icon:e.jsx(Ne,{className:"h-5 w-5 text-[hsl(var(--chart-2))]"}),color:"stroke-[hsl(var(--chart-2))]"}),e.jsx(B,{value:Math.min(100,Math.max(0,100-r.pageSize*30)),label:s!=null&&s.pageSize?f(s==null?void 0:s.pageSize):"",icon:e.jsx(Fe,{className:"h-5 w-5 text-[hsl(var(--chart-3))]"}),color:"stroke-[hsl(var(--chart-3))]"}),e.jsx(B,{value:s!=null&&s.numberOfRequests?Math.min(100,Math.max(0,100-(s==null?void 0:s.numberOfRequests))):0,label:`Issues (${s==null?void 0:s.numberOfRequests})`,icon:e.jsx(De,{className:"h-5 w-5 text-[hsl(var(--chart-4))]"}),color:"stroke-[hsl(var(--chart-4))]"})]})}),e.jsx(_,{value:"issues",className:"p-6",children:e.jsx(je,{type:"single",collapsible:!0,className:"w-full",children:a?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(g,{className:"h-[30px]"}),e.jsx(g,{className:"h-[30px]"}),e.jsx(g,{className:"h-[30px]"}),e.jsx(g,{className:"h-[30px]"}),e.jsx(g,{className:"h-[30px]"}),e.jsx(g,{className:"h-[30px]"})]}):e.jsx(e.Fragment,{children:s==null?void 0:s.issues.map((m,t)=>e.jsxs(ye,{value:`issue-${t}`,children:[e.jsx(ge,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-[hsl(var(--chart-5))]"}),e.jsx("span",{className:"font-semibold",children:m.title})]})}),e.jsx(ve,{children:e.jsx("div",{className:"pl-6",children:e.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:m.description})})})]},t))})})})]})})]})}const L=[{country:"United States",trafficShare:"35%",traffic:35e3,keywords:5e3,value:35,color:"#0088FE"},{country:"India",trafficShare:"20%",traffic:2e4,keywords:4200,value:20,color:"#00C49F"},{country:"United Kingdom",trafficShare:"12%",traffic:12e3,keywords:3200,value:12,color:"#FFBB28"},{country:"Germany",trafficShare:"10%",traffic:1e4,keywords:2800,value:10,color:"#FF8042"},{country:"Canada",trafficShare:"8%",traffic:8e3,keywords:2500,value:8,color:"#8884D8"},{country:"Australia",trafficShare:"7%",traffic:7e3,keywords:2200,value:7,color:"#6B8E23"},{country:"France",trafficShare:"5%",traffic:5e3,keywords:1800,value:5,color:"#B22222"},{country:"Brazil",trafficShare:"3%",traffic:3e3,keywords:1400,value:3,color:"#4682B4"}],K=[{device:"Desktop",trafficShare:"55%",traffic:55e3,value:55,color:"#0088FE"},{device:"Mobile",trafficShare:"40%",traffic:4e4,value:40,color:"#00C49F"},{device:"Tablet",trafficShare:"5%",traffic:5e3,value:5,color:"#FFBB28"}],Ee={value:{label:"Traffic"},"United States":{label:"United States",color:"#0088FE"},India:{label:"India",color:"#00C49F"},"United Kingdom":{label:"United Kingdom",color:"#FFBB28"},Germany:{label:"Germany",color:"#FF8042"},Canada:{label:"Canada",color:"#8884D8"},Australia:{label:"Australia",color:"#6B8E23"},France:{label:"France",color:"#B22222"},Brazil:{label:"Brazil",color:"#4682B4"}},Pe={value:{label:"Traffic"},Desktop:{label:"Desktop",color:"#0088FE"},Mobile:{label:"Mobile",color:"#00C49F"},Tablet:{label:"Tablet",color:"#FFBB28"}};function Oe(){const s=d.useMemo(()=>L.reduce((a,r)=>a+r.traffic,0),[]),o=d.useMemo(()=>K.reduce((a,r)=>a+r.traffic,0),[]);return e.jsxs(w,{children:[e.jsx(N,{className:"flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row",children:e.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6",children:[e.jsx(S,{children:"Traffic Distribution"}),e.jsx(C,{children:"Analyze the traffic distribution of your website and competitors."})]})}),e.jsx(b,{className:"px-2 sm:p-6",children:e.jsxs(P,{defaultValue:"country",children:[e.jsx("div",{className:"w-full overflow-x-auto py-4 sm:py-0",children:e.jsxs(O,{children:[e.jsx(v,{value:"country",children:"By Country"}),e.jsx(v,{value:"device",children:"By Device"})]})}),e.jsx(_,{value:"country",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsx("div",{className:"flex w-full items-center justify-center md:w-1/3",children:e.jsx(E,{config:Ee,className:"mx-auto aspect-square h-[300px] w-[300px]",children:e.jsxs($,{width:300,height:300,children:[e.jsx(I,{cursor:!1,content:e.jsx(V,{hideLabel:!0})}),e.jsxs(U,{data:L,dataKey:"value",nameKey:"country",innerRadius:60,outerRadius:100,paddingAngle:2,fill:"#8884d8",children:[L.map((a,r)=>e.jsx(Y,{fill:a.color},`cell-${r}`)),e.jsx(q,{content:({viewBox:a})=>{if(a&&"cx"in a&&"cy"in a)return e.jsxs("text",{x:a.cx,y:a.cy,textAnchor:"middle",dominantBaseline:"middle",children:[e.jsx("tspan",{x:a.cx,y:a.cy,className:"fill-foreground text-3xl font-bold",children:s.toLocaleString()}),e.jsx("tspan",{x:a.cx,y:(a.cy||0)+24,className:"fill-muted-foreground",children:"Total Visits"})]})}})]})]})})}),e.jsx("div",{className:"w-full overflow-x-auto md:w-2/3",children:e.jsxs(T,{children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(l,{children:"Country"}),e.jsx(l,{children:"Traffic Share"}),e.jsx(l,{children:"Traffic"}),e.jsx(l,{children:"Keywords"})]})}),e.jsx(F,{children:L.map((a,r)=>e.jsxs(u,{children:[e.jsx(i,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full",style:{backgroundColor:a.color}}),a.country]})}),e.jsx(i,{children:a.trafficShare}),e.jsx(i,{children:a.traffic}),e.jsx(i,{children:a.keywords})]},r))})]})})]})}),e.jsx(_,{value:"device",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsx("div",{className:"flex w-full items-center justify-center md:w-1/3",children:e.jsx(E,{config:Pe,className:"mx-auto aspect-square h-[300px] w-[300px]",children:e.jsxs($,{width:300,height:300,children:[e.jsx(I,{cursor:!1,content:e.jsx(V,{hideLabel:!0})}),e.jsxs(U,{data:K,dataKey:"value",nameKey:"device",innerRadius:60,outerRadius:100,paddingAngle:2,fill:"#8884d8",children:[K.map((a,r)=>e.jsx(Y,{fill:a.color},`cell-${r}`)),e.jsx(q,{content:({viewBox:a})=>{if(a&&"cx"in a&&"cy"in a)return e.jsxs("text",{x:a.cx,y:a.cy,textAnchor:"middle",dominantBaseline:"middle",children:[e.jsx("tspan",{x:a.cx,y:a.cy,className:"fill-foreground text-3xl font-bold",children:o.toLocaleString()}),e.jsx("tspan",{x:a.cx,y:(a.cy||0)+24,className:"fill-muted-foreground",children:"Total Visits"})]})}})]})]})})}),e.jsx("div",{className:"w-full overflow-x-auto md:w-2/3",children:e.jsxs(T,{children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(l,{children:"Device"}),e.jsx(l,{children:"Traffic Share"}),e.jsx(l,{children:"Traffic"})]})}),e.jsx(F,{children:K.map((a,r)=>e.jsxs(u,{children:[e.jsx(i,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full",style:{backgroundColor:a.color}}),a.device]})}),e.jsx(i,{children:a.trafficShare}),e.jsx(i,{children:a.traffic})]},r))})]})})]})})]})})]})}const z={views:{label:"Count"},organic:{label:"Organic",color:"hsl(var(--chart-1))"},paid:{label:"Paid",color:"hsl(var(--chart-2))"}};function Re(){const[s,o]=d.useState(),[a,r]=d.useState([]),[f,m]=d.useState("organic"),[t,x]=d.useState("6m"),{mutate:k}=ne({onSuccess(c,n,p){console.log("graph data",c.data),o(c.data)}}),h=d.useMemo(()=>{const c=new Date,n=c.getFullYear(),p=c.getMonth()+1;return a.filter(y=>t==="1y"?y.year===n?y.month>=p-11||p<=11:y.year===n-1?y.month>=p+1:!1:t==="6m"?y.year===n?y.month>=p-5||p<=5:y.year===n-1?y.month>=p+7:!1:!0)},[t,a]),j=d.useMemo(()=>({organic:h.reduce((c,n)=>c+n.organic,0),paid:h.reduce((c,n)=>c+n.paid,0)}),[h]);return d.useEffect(()=>{k([{targets:["dataforseo.com"],location_code:2840,language_code:"en",item_types:["organic","paid"],date_from:"2022-01-01",date_to:"2022-05-01"}])},[]),d.useEffect(()=>{if(s){const c=s==null?void 0:s.tasks[0].result[0].items[0].metrics.organic.map(n=>{const p=s==null?void 0:s.tasks[0].result[0].items[0].metrics.paid.find(y=>y.year===n.year&&y.month===n.month);return{month:n.month,year:n.year,organic:n.count,paid:p?p.count:0,organicETV:n.etv,paidETV:p?p.etv:0}});r(c)}},[s]),console.log("graph organic",s==null?void 0:s.tasks[0].result[0].items[0].metrics.organic),console.log("graph paid",s==null?void 0:s.tasks[0].result[0].items[0].metrics.paid),console.log("graph combine",a),console.log("graph filter",h),console.log("graph total",j),e.jsxs(w,{children:[e.jsxs(N,{className:"flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row",children:[e.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6",children:[e.jsx(S,{children:"Website Traffic"}),e.jsx(C,{children:"Showing total visitors for the selected time range"})]}),e.jsx("div",{className:"flex",children:["organic","paid"].map(c=>{const n=c;return e.jsxs("button",{"data-active":f===n,className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l data-[active=true]:bg-muted/50 sm:border-l sm:border-t-0 sm:px-8 sm:py-6",onClick:()=>m(n),children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:z[n].label}),e.jsx("span",{className:"text-lg font-bold leading-none sm:text-3xl",children:j[c].toLocaleString()})]},n)})})]}),e.jsx("div",{className:"flex justify-end px-6 py-4",children:e.jsxs(X,{value:t,onValueChange:c=>x(c),children:[e.jsx(Z,{className:"w-[200px]",children:e.jsx(Q,{placeholder:"Select Time Range"})}),e.jsxs(ee,{children:[e.jsx(A,{value:"1y",children:"Last 1 Year"}),e.jsx(A,{value:"6m",children:"Last 6 Months"})]})]})}),h&&e.jsx(b,{className:"px-2 sm:p-6",children:e.jsx(E,{config:z,className:"aspect-auto h-[250px] w-full",children:e.jsxs(Se,{accessibilityLayer:!0,data:h,margin:{left:12,right:12},children:[e.jsx(H,{vertical:!1}),e.jsx(J,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:(c,n)=>`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c-1]} `}),e.jsx(Ce,{formatter:c=>[`${c}`,"Count"],labelFormatter:c=>`Month: ${c}`}),e.jsx(_e,{content:e.jsx(ke,{})}),e.jsx(ue,{dataKey:`${f}`,tickLine:!1,axisLine:!1}),e.jsx(Te,{dataKey:`${f}`,fill:`${f=="organic"?z.organic.color:z.paid.color}`})]})})})]})}function Ie(){const{mutate:s}=de({onSuccess(o,a,r){console.log("data",o)}});return d.useEffect(()=>{s([{limit:2,filters:[["registrar","=","geeksforgeeks.org"]]}])},[]),e.jsxs(e.Fragment,{children:[e.jsx(xe,{children:e.jsxs("div",{className:"flex flex-1 items-center space-x-4",children:[e.jsx(he,{}),e.jsx(fe,{}),e.jsx(me,{})]})}),e.jsxs(pe,{className:"space-y-4 px-4 py-4",children:[e.jsx(Ke,{}),e.jsx(ze,{}),e.jsx(Re,{}),e.jsx(Le,{}),e.jsx(Ae,{}),e.jsx(Me,{}),e.jsx(Oe,{})]})]})}const ls=te("/_authenticated/seo/")({component:Ie});export{ls as Route};
