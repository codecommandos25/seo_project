import{m as se,Y as Q,$ as Qs,r as Z,j as e,C as T,n as D,S as M,q as k,o as O,p as me,B as G,s as E,a0 as cs,v as ps,a1 as Zs,a2 as bs,a3 as Xs,a4 as et,c as st}from"./index-By8YJrdC.js";import{G as Os,q as $s,T as Is,a as Vs,b as ss,c as te,d as Ls,e as ae}from"./table-Bv1KaM5_.js";import{u as pe}from"./useQuery-DhF4caix.js";import{X as Y,Y as _,T as ge,a as fe,b as F,c as V,C as U}from"./YAxis-BnXPoZff.js";import{H as tt,S as at,T as rt,P as nt,M as it}from"./theme-switch-BY8tNAc1.js";import{L as de,f as r,A as we,a as Se,b as Te,c as Re,d as De,e as Ks,g as Xe,C as Ns,S as lt}from"./chunk-LSEVNFON-C0uvgBbQ.js";import{P as oe,C as Be,S as ct,a as ot,b as dt,c as ce,d as mt,e as We,f as Ye,g as ht}from"./pagination-IEwphpjp.js";import{S as ve,a as ye,b as be,c as Ne,d as I}from"./select-CFewNsWn.js";import{C as ke}from"./circle-alert-ChKOY3ny.js";import{R as gs}from"./refresh-cw-xDoMFQuW.js";import{U as ts,C as Fe,T as ut,M as xt,R as pt,a as gt}from"./users-DQsLPsRn.js";import{T as ns}from"./trending-up-BWOGI8AY.js";import{T as fs}from"./trending-down-C1lpO8gB.js";import{S as ws,a as ft,f as os,b as Le,c as jt,A as vt,i as Ue,d as yt,e as zs,E as bt,g as es,h as Nt,j as wt,k as St,l as Me,m as Tt,u as kt,G as Pt,C as ee,n as Ss,o as At,B,p as Ct,R as K,T as z,q as Ee}from"./generateCategoricalChart-BIPi9lWF.js";import{B as re,P as Ge,a as _e}from"./PieChart-oSx2ucEq.js";import{A as Gs}from"./arrow-right-CrYfU6Oo.js";import{a as js,A as _s}from"./AreaChart-BYlP_KGp.js";import{f as J}from"./format-DTT9lmme.js";import{E as Bs}from"./eye-BisimCuz.js";import{C as vs}from"./clock-C-RYs_H9.js";import{E as Ts}from"./external-link-DZQGqP3v.js";import"./en-US-CAGN61RY.js";import"./chevron-down-C1tfVdut.js";import"./PolarAngleAxis-mI3gPpeK.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=se("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=se("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=se("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=se("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=se("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=se("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=se("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Oe(s){"@babel/helpers - typeof";return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(s)}function Kt(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(s,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,Ys(a.key),a)}}function Gt(s,t,n){return t&&zt(s.prototype,t),Object.defineProperty(s,"prototype",{writable:!1}),s}function _t(s,t,n){return t=as(t),Bt(s,Hs()?Reflect.construct(t,n||[],as(s).constructor):t.apply(s,n))}function Bt(s,t){if(t&&(Oe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ht(s)}function Ht(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Hs(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hs=function(){return!!s})()}function as(s){return as=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},as(s)}function Wt(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),t&&us(s,t)}function us(s,t){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},us(s,t)}function Ws(s,t,n){return t=Ys(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function Ys(s){var t=Yt(s,"string");return Oe(t)=="symbol"?t:t+""}function Yt(s,t){if(Oe(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,t);if(Oe(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var is=function(s){function t(){return Kt(this,t),_t(this,t,arguments)}return Wt(t,s),Gt(t,[{key:"render",value:function(){return null}}])}(Q.Component);Ws(is,"displayName","ZAxis");Ws(is,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Ut=["option","isActive"];function Ke(){return Ke=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Ke.apply(this,arguments)}function qt(s,t){if(s==null)return{};var n=Jt(s,t),a,c;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);for(c=0;c<h.length;c++)a=h[c],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Jt(s,t){if(s==null)return{};var n={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;n[a]=s[a]}return n}function Qt(s){var t=s.option,n=s.isActive,a=qt(s,Ut);return typeof t=="string"?Q.createElement(ws,Ke({option:Q.createElement(ft,Ke({type:t},a)),isActive:n,shapeType:"symbols"},a)):Q.createElement(ws,Ke({option:t,isActive:n,shapeType:"symbols"},a))}function $e(s){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(s)}function ze(){return ze=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},ze.apply(this,arguments)}function Ms(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),n.push.apply(n,a)}return n}function ne(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ms(Object(n),!0).forEach(function(a){xe(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function Zt(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function Rs(s,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,qs(a.key),a)}}function Xt(s,t,n){return t&&Rs(s.prototype,t),n&&Rs(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}function ea(s,t,n){return t=rs(t),sa(s,Us()?Reflect.construct(t,n||[],rs(s).constructor):t.apply(s,n))}function sa(s,t){if(t&&($e(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ta(s)}function ta(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Us(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Us=function(){return!!s})()}function rs(s){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rs(s)}function aa(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),t&&xs(s,t)}function xs(s,t){return xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},xs(s,t)}function xe(s,t,n){return t=qs(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function qs(s){var t=ra(s,"string");return $e(t)=="symbol"?t:t+""}function ra(s,t){if($e(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,t);if($e(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var ls=function(s){function t(){var n;Zt(this,t);for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return n=ea(this,t,[].concat(c)),xe(n,"state",{isAnimationFinished:!1}),xe(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),xe(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),xe(n,"id",kt("recharts-scatter-")),n}return aa(t,s),Xt(t,[{key:"renderSymbolsStatically",value:function(a){var c=this,h=this.props,m=h.shape,f=h.activeShape,y=h.activeIndex,d=os(this.props,!1);return a.map(function(j,o){var l=y===o,v=l?f:m,C=ne(ne({},d),j);return Q.createElement(Le,ze({className:"recharts-scatter-symbol",key:"symbol-".concat(j==null?void 0:j.cx,"-").concat(j==null?void 0:j.cy,"-").concat(j==null?void 0:j.size,"-").concat(o)},jt(c.props,j,o),{role:"img"}),Q.createElement(Qt,ze({option:v,isActive:l,key:"symbol-".concat(o)},C)))})}},{key:"renderSymbolsWithAnimation",value:function(){var a=this,c=this.props,h=c.points,m=c.isAnimationActive,f=c.animationBegin,y=c.animationDuration,d=c.animationEasing,j=c.animationId,o=this.state.prevPoints;return Q.createElement(vt,{begin:f,duration:y,isActive:m,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(j),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(l){var v=l.t,C=h.map(function(P,u){var p=o&&o[u];if(p){var S=Ue(p.cx,P.cx),i=Ue(p.cy,P.cy),x=Ue(p.size,P.size);return ne(ne({},P),{},{cx:S(v),cy:i(v),size:x(v)})}var g=Ue(0,P.size);return ne(ne({},P),{},{size:g(v)})});return Q.createElement(Le,null,a.renderSymbolsStatically(C))})}},{key:"renderSymbols",value:function(){var a=this.props,c=a.points,h=a.isAnimationActive,m=this.state.prevPoints;return h&&c&&c.length&&(!m||!yt(m,c))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(c)}},{key:"renderErrorBar",value:function(){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var c=this.props,h=c.points,m=c.xAxis,f=c.yAxis,y=c.children,d=zs(y,bt);return d?d.map(function(j,o){var l=j.props,v=l.direction,C=l.dataKey;return Q.cloneElement(j,{key:"".concat(v,"-").concat(C,"-").concat(h[o]),data:h,xAxis:m,yAxis:f,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(u,p){return{x:u.cx,y:u.cy,value:v==="x"?+u.node.x:+u.node.y,errorVal:es(u,p)}}})}):null}},{key:"renderLine",value:function(){var a=this.props,c=a.points,h=a.line,m=a.lineType,f=a.lineJointType,y=os(this.props,!1),d=os(h,!1),j,o;if(m==="joint")j=c.map(function(i){return{x:i.cx,y:i.cy}});else if(m==="fitting"){var l=Nt(c),v=l.xmin,C=l.xmax,P=l.a,u=l.b,p=function(x){return P*x+u};j=[{x:v,y:p(v)},{x:C,y:p(C)}]}var S=ne(ne(ne({},y),{},{fill:"none",stroke:y&&y.fill},d),{},{points:j});return Q.isValidElement(h)?o=Q.cloneElement(h,S):wt(h)?o=h(S):o=Q.createElement(St,ze({},S,{type:f})),Q.createElement(Le,{className:"recharts-scatter-line",key:"recharts-scatter-line"},o)}},{key:"render",value:function(){var a=this.props,c=a.hide,h=a.points,m=a.line,f=a.className,y=a.xAxis,d=a.yAxis,j=a.left,o=a.top,l=a.width,v=a.height,C=a.id,P=a.isAnimationActive;if(c||!h||!h.length)return null;var u=this.state.isAnimationFinished,p=Qs("recharts-scatter",f),S=y&&y.allowDataOverflow,i=d&&d.allowDataOverflow,x=S||i,g=Me(C)?this.id:C;return Q.createElement(Le,{className:p,clipPath:x?"url(#clipPath-".concat(g,")"):null},S||i?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(g)},Q.createElement("rect",{x:S?j:j-l/2,y:i?o:o-v/2,width:S?l:l*2,height:i?v:v*2}))):null,m&&this.renderLine(),this.renderErrorBar(),Q.createElement(Le,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!P||u)&&Tt.renderCallByParent(this.props,h))}}],[{key:"getDerivedStateFromProps",value:function(a,c){return a.animationId!==c.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:c.curPoints}:a.points!==c.curPoints?{curPoints:a.points}:null}}])}(Z.PureComponent);xe(ls,"displayName","Scatter");xe(ls,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Pt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});xe(ls,"getComposedData",function(s){var t=s.xAxis,n=s.yAxis,a=s.zAxis,c=s.item,h=s.displayedData,m=s.xAxisTicks,f=s.yAxisTicks,y=s.offset,d=c.props.tooltipType,j=zs(c.props.children,ee),o=Me(t.dataKey)?c.props.dataKey:t.dataKey,l=Me(n.dataKey)?c.props.dataKey:n.dataKey,v=a&&a.dataKey,C=a?a.range:is.defaultProps.range,P=C&&C[0],u=t.scale.bandwidth?t.scale.bandwidth():0,p=n.scale.bandwidth?n.scale.bandwidth():0,S=h.map(function(i,x){var g=es(i,o),b=es(i,l),w=!Me(v)&&es(i,v)||"-",$=[{name:Me(t.dataKey)?c.props.name:t.name||t.dataKey,unit:t.unit||"",value:g,payload:i,dataKey:o,type:d},{name:Me(n.dataKey)?c.props.name:n.name||n.dataKey,unit:n.unit||"",value:b,payload:i,dataKey:l,type:d}];w!=="-"&&$.push({name:a.name||a.dataKey,unit:a.unit||"",value:w,payload:i,dataKey:v,type:d});var L=Ss({axis:t,ticks:m,bandSize:u,entry:i,index:x,dataKey:o}),R=Ss({axis:n,ticks:f,bandSize:p,entry:i,index:x,dataKey:l}),H=w!=="-"?a.scale(w):P,W=Math.sqrt(Math.max(H,0)/Math.PI);return ne(ne({},i),{},{cx:L,cy:R,x:L-W,y:R-W,xAxis:t,yAxis:n,zAxis:a,width:2*W,height:2*W,size:H,node:{x:g,y:b,z:w},tooltipPayload:$,tooltipPosition:{x:L,y:R},payload:i},j&&j[x]&&j[x].props)});return ne({points:S},y)});var na=At({chartName:"ComposedChart",GraphicalChild:[de,js,B,ls],axisComponents:[{axisType:"xAxis",AxisComp:Y},{axisType:"yAxis",AxisComp:_},{axisType:"zAxis",AxisComp:is}],formatAxisMap:Ct});const ia=s=>Os({url:`http://13.234.181.212:8000/third-party-apis/update_access_token?refreshToken=${s.refreshToken}`}).then(t=>t.data),la=s=>Os({url:`http://13.234.181.212:8000/third-party-apis/getYoutubeVideos?accessToken=${s.accessToken}&maxResults=${s.maxResults}&type=${s.type}`}).then(t=>t.data),ca=(s,t)=>{var n;return pe((n=$s)==null?void 0:n.youtube.getUpdateToken.queryKey,()=>ia(s),t)},oa=(s,t)=>{var n;return pe((n=$s)==null?void 0:n.youtube.getYoutubeVideo.queryKey,()=>la(s),t)},da=()=>{const s=[{ageRange:"13-17",percentage:r.number.int({min:3,max:8})},{ageRange:"18-24",percentage:r.number.int({min:25,max:35})},{ageRange:"25-34",percentage:r.number.int({min:28,max:40})},{ageRange:"35-44",percentage:r.number.int({min:15,max:25})},{ageRange:"45-54",percentage:r.number.int({min:5,max:12})},{ageRange:"55-64",percentage:r.number.int({min:2,max:6})},{ageRange:"65+",percentage:r.number.int({min:1,max:4})}],t=s.reduce((N,A)=>N+A.percentage,0);s.forEach(N=>{N.percentage=Math.round(N.percentage/t*100)});const n=s.reduce((N,A)=>N+A.percentage,0);if(n!==100){const N=100-n,A=s.sort((q,le)=>le.percentage-q.percentage)[0];A.percentage+=N}const a=r.number.int({min:55,max:75}),c=r.number.int({min:23,max:100-a-1}),h=100-a-c,m=r.number.int({min:45,max:65}),f=r.number.int({min:20,max:40}),y=r.number.int({min:5,max:15}),d=r.number.int({min:2,max:10}),j=m+f+y+d,o=[{device:"Mobile",percentage:Math.round(m/j*100)},{device:"Desktop",percentage:Math.round(f/j*100)},{device:"Tablet",percentage:Math.round(y/j*100)},{device:"TV",percentage:Math.round(d/j*100)}],l=o.reduce((N,A)=>N+A.percentage,0);l!==100&&(o[0].percentage+=100-l);const v=["United States","India","United Kingdom","Canada","Australia","Germany","Brazil","Nigeria","Philippines","Other"],C=r.number.int({min:1e4,max:2e5}),P=v.map(N=>{let A;return N==="United States"?A=r.number.int({min:25,max:40}):N==="India"?A=r.number.int({min:15,max:30}):N==="United Kingdom"||N==="Canada"||N==="Australia"?A=r.number.int({min:4,max:10}):N==="Other"?A=r.number.int({min:5,max:15}):A=r.number.int({min:1,max:5}),{country:N,percentage:A,subscriberCount:Math.round(A/100*C)}}),u=P.reduce((N,A)=>N+A.percentage,0);P.forEach(N=>{N.percentage=Math.round(N.percentage/u*100),N.subscriberCount=Math.round(N.percentage/100*C)});const S=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(N=>({day:N,activePercentage:r.number.int({min:20,max:N==="Saturday"||N==="Sunday"?65:50})})),i=(N,A,q="up")=>{const le=[],Pe=new Date;let ue=r.number.int({min:N,max:A});for(let Ve=29;Ve>=0;Ve--){const ys=new Date;ys.setDate(Pe.getDate()-Ve);let He;q==="up"?He=r.number.float({min:-.03,max:.08,precision:.01}):q==="down"?He=r.number.float({min:-.08,max:.03,precision:.01}):He=r.number.float({min:-.03,max:.03,precision:.01}),ue=Math.max(N,ue+ue*He),le.push({date:ys.toISOString().split("T")[0],value:Math.round(ue)})}return le},x=i(8,15,"stable"),g=i(5e3,1e4,"up"),b=i(35,55,"up"),w=Array.from({length:24},(N,A)=>{let q;return A>=17&&A<=23?q=r.number.float({min:6,max:10,precision:.1}):A>=9&&A<=16?q=r.number.float({min:3,max:6,precision:.1}):q=r.number.float({min:.5,max:3,precision:.1}),{hour:A,percentage:q}}),$=w.reduce((N,A)=>N+A.percentage,0);w.forEach(N=>{N.percentage=parseFloat((N.percentage/$*100).toFixed(1))});const L=()=>{const N=[];for(let A=0;A<5;A++){const q=r.number.int({min:100,max:3e3}),le=r.number.int({min:10,max:q*.4}),Pe=q-le,ue=r.number.int({min:q*10,max:q*30}),Ve=parseFloat((q/ue*100).toFixed(2));N.push({id:r.string.alphanumeric(11),title:r.lorem.sentence(),thumbnailUrl:r.image.urlLoremFlickr({width:1280,height:720,category:"technology"}),subscribersGained:q,subscribersLost:le,netGain:Pe,conversionRate:Ve,publishedAt:r.date.recent({days:60}).toISOString()})}return N.sort((A,q)=>q.netGain-A.netGain)},R=[{type:"Casual Viewers",percentage:r.number.int({min:35,max:50})},{type:"Dedicated Fans",percentage:r.number.int({min:20,max:35})},{type:"Creators",percentage:r.number.int({min:10,max:25})},{type:"Industry Professionals",percentage:r.number.int({min:5,max:15})}],H=R.reduce((N,A)=>N+A.percentage,0);R.forEach(N=>{N.percentage=Math.round(N.percentage/H*100)});const W=["Suggested videos","Browse features","YouTube search","External","Direct or unknown"],X=[];let he=0;W.forEach(N=>{let A;N==="Suggested videos"?A=r.number.int({min:5e4,max:12e4}):N==="Browse features"?A=r.number.int({min:4e4,max:1e5}):N==="YouTube search"?A=r.number.int({min:3e4,max:8e4}):N==="External"?A=r.number.int({min:1e4,max:4e4}):A=r.number.int({min:5e3,max:2e4}),he+=A,X.push({source:N,minutes:A,percentage:0})}),X.forEach(N=>{N.percentage=Math.round(N.minutes/he*100)});const ie={count:r.number.int({min:500,max:5e3}),percentage:r.number.float({min:2,max:15,precision:.1})},Ie={enabled:r.number.int({min:15,max:40}),clickRate:r.number.float({min:3,max:15,precision:.1}),bellIconRate:r.number.float({min:12,max:35,precision:.1})};return{totalSubscribers:C,subscriberChange:ie,demographics:{age:s,gender:{male:a,female:c,other:h},devices:o},countries:P,subscriberActivity:S,viewsPerSubscriberTrend:x,notificationStats:Ie,watchTimeByTrafficSource:X,subscribersDates:w,watchTimeTrend:g,topSubscribedVideos:L(),audienceTypes:R,returningViewerPercentage:r.number.float({min:20,max:45,precision:.1}),audienceRetentionTrend:b}},ma=async()=>(await new Promise(s=>setTimeout(s,800)),da()),ha=()=>pe({queryKey:["audienceAnalytics"],queryFn:ma,staleTime:1e3*60*5});function ua(){const{data:s,isLoading:t,error:n,refetch:a,isRefetching:c}=ha(),[h,m]=Z.useState("30days");if(t)return e.jsxs(T,{children:[e.jsxs(D,{children:[e.jsx(M,{className:"h-8 w-64"}),e.jsx(M,{className:"mt-1 h-4 w-48"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:Array.from({length:3}).map((l,v)=>e.jsx(M,{className:"h-24 w-full"},v))}),e.jsx(M,{className:"mt-6 h-72 w-full"})]})]});if(n||!s)return e.jsxs(we,{variant:"destructive",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx(Se,{children:"Error"}),e.jsx(Te,{children:"Failed to load audience analytics. Please try again later."})]});const f=["#4f46e5","#7c3aed","#0ea5e9","#14b8a6","#6366f1","#8b5cf6","#a855f7","#d946ef"],y="#4f46e5",d="rgba(99, 102, 241, 0.2)",j={male:"#4f46e5",female:"#ec4899",other:"#6366f1"},o={Mobile:e.jsx(It,{className:"mr-1 h-3 w-3"}),Desktop:e.jsx(Cs,{className:"mr-1 h-3 w-3"}),Tablet:e.jsx(Vt,{className:"mr-1 h-3 w-3"}),TV:e.jsx(Cs,{className:"mr-1 h-3 w-3"})};return e.jsxs(T,{className:"w-full",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(O,{className:"text-xl font-bold",children:"Audience Analytics"}),e.jsx(me,{children:"Understand your audience demographics and engagement patterns"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ve,{value:h,onValueChange:m,children:[e.jsx(ye,{className:"w-[140px]",children:e.jsx(be,{placeholder:"Time Range"})}),e.jsxs(Ne,{children:[e.jsx(I,{value:"7days",children:"Last 7 Days"}),e.jsx(I,{value:"30days",children:"Last 30 Days"}),e.jsx(I,{value:"90days",children:"Last 90 Days"}),e.jsx(I,{value:"year",children:"This Year"})]})]}),e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>a(),disabled:c,children:[c?e.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(gs,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})}),e.jsxs(k,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total Subscribers"}),e.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:s.totalSubscribers.toLocaleString()}),e.jsxs("div",{className:`flex items-center text-xs ${s.subscriberChange.percentage>0?"text-green-500":"text-red-500"}`,children:[s.subscriberChange.percentage>0?e.jsx(ns,{className:"mr-1 h-3 w-3"}):e.jsx(fs,{className:"mr-1 h-3 w-3"}),Math.abs(s.subscriberChange.percentage).toFixed(1),"%"]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.subscriberChange.count>0?"+":"",s.subscriberChange.count," this period"]})]})}),e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Returning Viewers"}),e.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-2xl font-bold",children:[s.returningViewerPercentage,"%"]})}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"Of your total audience"}),e.jsx(oe,{value:s.returningViewerPercentage,className:"mt-2 h-1.5"})]})}),e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Notification Bell"}),e.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-2xl font-bold",children:[s.notificationStats.bellIconRate,"%"]})}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.notificationStats.clickRate,"% avg. click rate"]})]})})]}),e.jsxs(ge,{defaultValue:"demographics",className:"w-full",children:[e.jsxs(fe,{className:"grid w-full grid-cols-4 md:w-[500px]",children:[e.jsx(F,{value:"demographics",children:"Demographics"}),e.jsx(F,{value:"geography",children:"Geography"}),e.jsx(F,{value:"behavior",children:"Behavior"}),e.jsx(F,{value:"retention",children:"Retention"})]}),e.jsxs(V,{value:"demographics",className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Age Distribution"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:250,children:e.jsxs(re,{data:s.demographics.age,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"ageRange"}),e.jsx(_,{tickFormatter:l=>`${l}%`}),e.jsx(z,{formatter:l=>[`${l}%`,"Percentage"]})," ",e.jsx(B,{dataKey:"percentage",fill:"#4f46e5",radius:[4,4,0,0],children:s.demographics.age.map((l,v)=>e.jsx(ee,{fill:f[v%f.length]},`cell-${v}`))})]})})})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Gender Distribution"})}),e.jsxs(k,{className:"flex flex-col items-center",children:[e.jsx(K,{width:"100%",height:250,children:e.jsxs(Ge,{children:[e.jsxs(_e,{data:[{name:"Male",value:s.demographics.gender.male},{name:"Female",value:s.demographics.gender.female},{name:"Other",value:s.demographics.gender.other}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:2,dataKey:"value",label:({name:l,percent:v})=>`${l} ${(v*100).toFixed(0)}%`,children:[e.jsx(ee,{fill:j.male}),e.jsx(ee,{fill:j.female}),e.jsx(ee,{fill:j.other})]}),e.jsx(z,{formatter:l=>[`${l}%`,"Percentage"]})]})}),e.jsx("div",{className:"mt-2 flex justify-center gap-4",children:Object.entries(j).map(([l,v])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-1 h-3 w-3 rounded-full",style:{backgroundColor:v}}),e.jsx("span",{className:"text-xs capitalize",children:l})]},l))})]})]})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Device Distribution"})}),e.jsx(k,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx("div",{className:"flex flex-col space-y-4",children:s.demographics.devices.map(l=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[o[l.device],e.jsx("span",{className:"text-sm",children:l.device})]}),e.jsxs("span",{className:"text-sm font-medium",children:[l.percentage,"%"]})]}),e.jsx(oe,{value:l.percentage,className:"h-2"})]},l.device))}),e.jsx(K,{width:"100%",height:200,children:e.jsxs(Ge,{children:[e.jsxs(_e,{data:s.demographics.devices,cx:"50%",cy:"50%",innerRadius:45,outerRadius:80,fill:"#8884d8",paddingAngle:2,dataKey:"percentage",children:[" ",s.demographics.devices.map((l,v)=>e.jsx(ee,{fill:f[v%f.length]},`cell-${v}`))]}),e.jsx(z,{formatter:l=>[`${l}%`,"Percentage"]})]})})]})})]})]}),e.jsx(V,{value:"geography",className:"mt-6",children:e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Geographic Distribution"})}),e.jsx(k,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(K,{width:"100%",height:300,children:e.jsxs(re,{data:s.countries.slice(0,10),layout:"vertical",margin:{top:5,right:30,left:50,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{type:"number",tickFormatter:l=>`${l}%`}),e.jsx(_,{type:"category",dataKey:"country",width:100}),e.jsx(z,{formatter:l=>[`${l}%`,"Percentage"]}),e.jsxs(B,{dataKey:"percentage",fill:"#4f46e5",radius:[0,4,4,0],children:[" ",s.countries.slice(0,10).map((l,v)=>e.jsx(ee,{fill:f[v%f.length]},`cell-${v}`))]})]})})}),e.jsxs("div",{className:"max-h-[300px] space-y-2 overflow-y-auto",children:[s.countries.slice(0,8).map((l,v)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border p-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:l.country})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"font-medium",children:[l.percentage,"%"]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.subscriberCount.toLocaleString()," ","subscribers"]})]})]},v)),s.countries.length>8&&e.jsxs(G,{variant:"ghost",size:"sm",className:"w-full",children:["See all countries"," ",e.jsx(Gs,{className:"ml-2 h-4 w-4"})]})]})]})})]})}),e.jsxs(V,{value:"behavior",className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Subscriber Activity by Day"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:250,children:e.jsxs(re,{data:s.subscriberActivity,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"day"}),e.jsx(_,{tickFormatter:l=>`${l}%`}),e.jsx(z,{formatter:l=>[`${l}%`,"Active Users"]}),e.jsx(B,{dataKey:"activePercentage",fill:"#4f46e5",radius:[4,4,0,0]})]})})})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Subscriber Activity by Hour"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:250,children:e.jsxs(De,{data:s.subscribersDates,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"hour",tickFormatter:l=>`${l}:00`}),e.jsx(_,{tickFormatter:l=>`${l}%`}),e.jsx(z,{formatter:l=>[`${l}%`,"Activity"],labelFormatter:l=>`${l}:00`}),e.jsx(de,{type:"monotone",dataKey:"percentage",stroke:y,strokeWidth:2,dot:{r:3},activeDot:{r:5}})]})})})]})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Watch Time by Traffic Source"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:300,children:e.jsxs(re,{data:s.watchTimeByTrafficSource,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"source"}),e.jsx(_,{yAxisId:"left",orientation:"left",stroke:"#4f46e5"}),e.jsx(_,{yAxisId:"right",orientation:"right",stroke:"#6366f1",tickFormatter:l=>`${l}%`}),e.jsx(z,{}),e.jsx(Ee,{}),e.jsx(B,{yAxisId:"left",name:"Watch Time (min)",dataKey:"minutes",fill:"#4f46e5",radius:[4,4,0,0]}),e.jsx(B,{yAxisId:"right",name:"Percentage",dataKey:"percentage",fill:"#6366f1",radius:[4,4,0,0]})]})})})]})]}),e.jsxs(V,{value:"retention",className:"mt-6 space-y-6",children:[e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Audience Retention Trend"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:300,children:e.jsxs(_s,{data:s.audienceRetentionTrend,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"date",tickFormatter:l=>{const v=new Date(l);return J(v,"MMM d")}}),e.jsx(_,{tickFormatter:l=>`${l}%`}),e.jsx(z,{formatter:l=>[`${l}%`,"Retention"],labelFormatter:l=>{const v=new Date(l);return J(v,"MMMM d, yyyy")}}),e.jsx(js,{type:"monotone",dataKey:"value",stroke:y,fillOpacity:1,fill:d})]})})})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Views per Subscriber Trend"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:300,children:e.jsxs(De,{data:s.viewsPerSubscriberTrend,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"date",tickFormatter:l=>{const v=new Date(l);return J(v,"MMM d")}}),e.jsx(_,{}),e.jsx(z,{formatter:l=>[typeof l=="number"?l.toFixed(2):l,"Views per Subscriber"],labelFormatter:l=>{const v=new Date(l);return J(v,"MMMM d, yyyy")}}),e.jsx(de,{type:"monotone",dataKey:"value",stroke:y,strokeWidth:2,dot:{r:3},activeDot:{r:5}})]})})})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Top Videos by Subscriber Gain"})}),e.jsx(k,{children:e.jsx("div",{className:"space-y-4",children:s.topSubscribedVideos.map((l,v)=>e.jsxs("div",{className:"flex flex-col gap-4 border-b pb-4 last:border-0 md:flex-row",children:[e.jsx("div",{className:"relative aspect-video w-full overflow-hidden rounded-md md:w-48",children:e.jsx("img",{src:l.thumbnailUrl,alt:l.title,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"line-clamp-2 font-medium",children:l.title}),e.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Published"," ",J(new Date(l.publishedAt),"MMMM d, yyyy")]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Subscribers Gained"}),e.jsxs("div",{className:"font-medium text-green-600",children:["+",l.subscribersGained]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Subscribers Lost"}),e.jsxs("div",{className:"font-medium text-red-600",children:["-",l.subscribersLost]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Conversion Rate"}),e.jsxs("div",{className:"font-medium",children:[l.conversionRate,"%"]})]})]})]})]},v))})})]})]})]})]})]})}const xa=()=>{const t=(()=>{const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=[];let g=r.number.float({min:500,max:1500}),b=r.number.float({min:300,max:1200}),w=r.number.float({min:100,max:600}),$=r.number.float({min:50,max:400}),L=r.number.float({min:20,max:200});const R=1+r.number.float({min:-.05,max:.12})/12,H=1+r.number.float({min:-.03,max:.15})/12,W=1+r.number.float({min:.01,max:.08})/12,X=1+r.number.float({min:-.08,max:.2})/12,he=1+r.number.float({min:-.02,max:.1})/12;for(let ie=0;ie<i.length;ie++){const Ie=ie>=9?1.2:ie===0?.8:ie>=5&&ie<=7?1.1:1;g*=R*Ie,b*=H*Ie,w*=W,$*=X*Ie,L*=he;const N=Math.round(g*r.number.float({min:.9,max:1.1})),A=Math.round(b*r.number.float({min:.85,max:1.15})),q=Math.round(w*r.number.float({min:.95,max:1.05})),le=Math.round($*r.number.float({min:.8,max:1.2})),Pe=Math.round(L*r.number.float({min:.85,max:1.15})),ue=N+A+q+le+Pe;x.push({month:i[ie],adRevenue:N,sponsorshipRevenue:A,membershipRevenue:q,merchandiseRevenue:le,superChatsRevenue:Pe,total:ue})}return x})(),n=t.reduce((i,x)=>i+x.total,0),a=n,c=()=>{const i=t.reduce((L,R)=>L+R.adRevenue,0),x=t.reduce((L,R)=>L+R.sponsorshipRevenue,0),g=t.reduce((L,R)=>L+R.membershipRevenue,0),b=t.reduce((L,R)=>L+R.merchandiseRevenue,0),w=t.reduce((L,R)=>L+R.superChatsRevenue,0),$=[{source:"Ad Revenue",amount:i,percentage:0},{source:"Sponsorships",amount:x,percentage:0},{source:"Memberships",amount:g,percentage:0},{source:"Merchandise",amount:b,percentage:0},{source:"Super Chats",amount:w,percentage:0}];return $.forEach(L=>{L.percentage=Math.round(L.amount/a*100)}),$},h=r.number.int({min:20,max:45}),m=100-h,f=[{format:"short",amount:Math.round(a*h/100),percentage:h},{format:"long",amount:Math.round(a*m/100),percentage:m}],y=()=>{const i=[],x=g=>{const b=["I can't believe this happened! 😱","You won't believe what I found 🔥","This trick changed everything 🚀","How to earn passive income fast","The algorithm secret no one tells you"],w=["How I Made $10,000 from YouTube in 30 Days (Full Guide)","The Ultimate Guide to YouTube SEO in 2025","10 Things Successful YouTubers Do Differently","How to Create Viral Content: Step by Step Tutorial","Monetization Strategies That Actually Work in 2025"];return g==="short"?r.helpers.arrayElement(b):r.helpers.arrayElement(w)};for(let g=0;g<5;g++){const b=g<3?"long":"short",w=b==="long"?r.number.int({min:5e4,max:5e5}):r.number.int({min:1e5,max:2e6}),$=b==="long"?w*r.number.float({min:4,max:12})/1e3:w*r.number.float({min:1,max:5})/1e3;i.push({id:r.string.alphanumeric(11),title:x(b),thumbnailUrl:r.image.urlLoremFlickr({width:1280,height:720,category:"business"}),revenue:Math.round($),views:w,revenuePerThousand:parseFloat(($/w*1e3).toFixed(2)),publishedDate:r.date.recent({days:120}).toISOString(),format:b})}return i.sort((g,b)=>b.revenue-g.revenue)},d=()=>{const i=t.slice(-3),x=i.reduce((b,w)=>b+w.total,0)/i.length,g=r.number.float({min:3,max:15,precision:.1});return{nextMonth:Math.round(x*(1+g/100)),nextQuarter:Math.round(x*3*(1+g/100*2)),nextYear:Math.round(a*(1+g/100)),growthRate:g}},j=()=>{const i=["United States","United Kingdom","Canada","Australia","Germany","India","Brazil","Other"],x=[];let g=100;for(let b=0;b<i.length-1;b++){let w;i[b]==="United States"?w=r.number.int({min:30,max:50}):i[b]==="United Kingdom"||i[b]==="Canada"||i[b]==="Australia"?w=r.number.int({min:5,max:15}):i[b]==="India"?w=r.number.int({min:3,max:10}):w=r.number.int({min:2,max:8}),w=Math.min(w,g-1),g-=w,x.push({country:i[b],revenue:Math.round(w/100*a),percentage:w})}return x.push({country:"Other",revenue:Math.round(g/100*a),percentage:g}),x.sort((b,w)=>w.revenue-b.revenue)},o=()=>{const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=[];for(let g=0;g<i.length;g++){const b=t[g].total,w=r.number.float({min:.4,max:.85}),$=Math.round(b*w);x.push({month:i[g],thisYear:b,lastYear:$})}return x},l=()=>{const i=[{type:"Skippable in-stream ads",revenue:r.number.float({min:2e3,max:8e3}),impressions:r.number.int({min:5e5,max:2e6}),cpm:0},{type:"Non-skippable in-stream ads",revenue:r.number.float({min:1e3,max:5e3}),impressions:r.number.int({min:1e5,max:5e5}),cpm:0},{type:"In-feed video ads",revenue:r.number.float({min:500,max:3e3}),impressions:r.number.int({min:2e5,max:8e5}),cpm:0},{type:"Bumper ads",revenue:r.number.float({min:200,max:1500}),impressions:r.number.int({min:1e5,max:6e5}),cpm:0}];i.forEach(R=>{R.cpm=parseFloat((R.revenue/R.impressions*1e3).toFixed(2))}),i.sort((R,H)=>H.revenue-R.revenue);const x=i.reduce((R,H)=>R+H.impressions,0),g=i.reduce((R,H)=>R+H.revenue,0),b=parseFloat((g/x*1e3).toFixed(2)),w=["Watch page","Channel page","Embedded","Shorts feed"],$=[];let L=100;for(let R=0;R<w.length;R++){let H,W;w[R]==="Watch page"?(H=r.number.int({min:50,max:70}),W=r.number.float({min:3,max:8})):w[R]==="Shorts feed"?(H=r.number.int({min:10,max:25}),W=r.number.float({min:1,max:3})):(H=r.number.int({min:5,max:15}),W=r.number.float({min:2,max:6})),H=Math.min(H,L),L-=H,$.push({playbackLocation:w[R],cpm:parseFloat(W.toFixed(2)),percentage:H})}return{totalImpressions:x,ctr:r.number.float({min:.8,max:3.5,precision:.1}),averageCpm:b,topPerformingAdTypes:i,playbackBasedCpm:$}},v=()=>["SkillShare Campaign","Audible Partnership","NordVPN Promotion","Hello Fresh Sponsorship","Ridge Wallet Collaboration"].map(x=>{const g=r.helpers.arrayElement(["active","completed","upcoming"]),b=r.number.int({min:5e4,max:5e5}),w=r.number.int({min:1e3,max:1e4}),$=r.number.float({min:3,max:12,precision:.1});return{campaignName:x,revenue:w,viewCount:b,engagementRate:$,costPerView:parseFloat((w/b).toFixed(4)),status:g}}).sort((x,g)=>g.revenue-x.revenue),C=()=>{const i=r.number.int({min:100,max:3e3}),x=r.number.float({min:2,max:25,precision:.1}),g=["Silver","Gold","Platinum"],b=[];let w=i,$=100;for(let W=0;W<g.length-1;W++){let X;g[W]==="Silver"?X=r.number.int({min:50,max:70}):X=r.number.int({min:15,max:30}),X=Math.min(X,$-1),$-=X;const he=Math.round(X/100*i);w-=he;const ie=g[W]==="Silver"?4.99:g[W]==="Gold"?9.99:19.99;b.push({tier:g[W],memberCount:he,percentage:X,revenue:Math.round(he*ie)})}b.push({tier:g[g.length-1],memberCount:w,percentage:$,revenue:Math.round(w*19.99)});const R=b.reduce((W,X)=>W+X.revenue,0),H=parseFloat((R/i).toFixed(2));return{totalMembers:i,memberGrowth:x,averageRevenuePer:H,retentionRate:r.number.float({min:75,max:95,precision:.1}),tierDistribution:b}},P=()=>{const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=[];let g=r.number.float({min:2,max:4,precision:.01});for(let b=0;b<i.length;b++){let w=1;b>=9&&b<=11?w=r.number.float({min:1.2,max:1.6,precision:.01}):(b===0||b===1)&&(w=r.number.float({min:.7,max:.9,precision:.01}));const $=r.number.float({min:.9,max:1.1,precision:.01}),L=parseFloat((g*w*$).toFixed(2));x.push({date:i[b],cpm:L}),g*=r.number.float({min:1,max:1.03,precision:.001})}return x},u={day7:r.number.float({min:10,max:30,precision:.1}),day30:r.number.float({min:25,max:60,precision:.1}),day90:r.number.float({min:50,max:85,precision:.1}),viewsToRevenueRatio:r.number.float({min:1.5,max:6,precision:.1})},p=n/(1+r.number.float({min:-.1,max:.4,precision:.01})),S=parseFloat(((n-p)/p*100).toFixed(1));return{summary:{totalRevenue:Math.round(n),changePercentage:S,estimatedYearlyRevenue:Math.round(a),revenuePerThousandViews:r.number.float({min:2,max:8,precision:.1})},revenueByMonth:t,revenueBySource:c(),revenueByFormat:f,topEarningVideos:y(),revenueProjection:d(),revenueByCountry:j(),yearlyComparisonData:o(),adPerformance:l(),sponsorshipPerformance:v(),membershipStats:C(),cpmTrends:P(),revenueRetention:u}},pa=async()=>(await new Promise(s=>setTimeout(s,800)),xa()),ga=()=>pe({queryKey:["revenueAnalytics"],queryFn:pa,staleTime:1e3*60*5});function fa(){const{data:s,isLoading:t,error:n,refetch:a,isRefetching:c}=ga(),[h,m]=Z.useState("30days");if(t)return e.jsxs(T,{children:[e.jsxs(D,{children:[e.jsx(M,{className:"h-8 w-64"}),e.jsx(M,{className:"mt-1 h-4 w-48"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:Array.from({length:4}).map((u,p)=>e.jsx(M,{className:"h-24 w-full"},p))}),e.jsx(M,{className:"mt-6 h-72 w-full"})]})]});if(n||!s)return e.jsxs(we,{variant:"destructive",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx(Se,{children:"Error"}),e.jsx(Te,{children:"Failed to load revenue analytics. Please try again later."})]});const f=["#4f46e5","#6366f1","#8b5cf6","#d946ef","#f43f5e","#ec4899","#10b981","#0ea5e9"],y="#4f46e5",d="#6366f1",j="#0ea5e9",o="#10b981",l="#f43f5e",v="#ec4899",C="#8b5cf6",P=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u);return e.jsxs(T,{className:"w-full",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(O,{className:"text-xl font-bold",children:"Revenue Analytics"}),e.jsx(me,{children:"Track earnings and monetization performance on your YouTube channel"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ve,{value:h,onValueChange:m,children:[e.jsx(ye,{className:"w-[150px]",children:e.jsx(be,{placeholder:"Time Range"})}),e.jsxs(Ne,{children:[e.jsx(I,{value:"30days",children:"Last 30 Days"}),e.jsx(I,{value:"90days",children:"Last 90 Days"}),e.jsx(I,{value:"year",children:"This Year"}),e.jsx(I,{value:"alltime",children:"All Time"})]})]}),e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>a(),disabled:c,children:[c?e.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(gs,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})}),e.jsxs(k,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:P(s.summary.totalRevenue)}),e.jsxs("div",{className:`flex items-center text-xs ${s.summary.changePercentage>0?"text-green-500":"text-red-500"}`,children:[s.summary.changePercentage>0?e.jsx(ns,{className:"mr-1 h-3 w-3"}):e.jsx(fs,{className:"mr-1 h-3 w-3"}),Math.abs(s.summary.changePercentage).toFixed(1),"%"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"vs. previous period"})]})}),e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Yearly Estimate"}),e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-2xl font-bold",children:P(s.summary.estimatedYearlyRevenue)})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Based on current performance"})]})}),e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"RPM"}),e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-2xl font-bold",children:["$",s.summary.revenuePerThousandViews.toFixed(2)]})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Revenue per 1000 views"})]})}),e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Avg. CPM"}),e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-2xl font-bold",children:["$",s.adPerformance.averageCpm.toFixed(2)]})}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.adPerformance.totalImpressions.toLocaleString()," ","impressions"]})]})})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Monthly Revenue Breakdown"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:350,children:e.jsxs(na,{data:s.revenueByMonth,margin:{top:20,right:30,left:20,bottom:20},stackOffset:"sign",children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"month"}),e.jsx(_,{tickFormatter:u=>`$${u}`}),e.jsx(z,{formatter:u=>[`$${u}`,""]}),e.jsx(Ee,{}),e.jsx(B,{dataKey:"adRevenue",stackId:"a",name:"Ad Revenue",fill:j,radius:[0,0,0,0]}),e.jsx(B,{dataKey:"sponsorshipRevenue",stackId:"a",name:"Sponsorships",fill:o,radius:[0,0,0,0]}),e.jsx(B,{dataKey:"membershipRevenue",stackId:"a",name:"Memberships",fill:l,radius:[0,0,0,0]}),e.jsx(B,{dataKey:"superChatsRevenue",stackId:"a",name:"Super Chats",fill:v,radius:[0,0,0,0]}),e.jsx(B,{dataKey:"merchandiseRevenue",stackId:"a",name:"Merchandise",fill:C,radius:[0,0,0,0]}),e.jsx(de,{type:"monotone",dataKey:"total",name:"Total Revenue",stroke:"#000000",strokeWidth:2,dot:{r:3}})]})})})]}),e.jsxs(ge,{defaultValue:"sources",className:"w-full",children:[e.jsxs(fe,{className:"grid w-full grid-cols-4 md:w-[500px]",children:[e.jsx(F,{value:"sources",children:"Revenue Sources"}),e.jsx(F,{value:"videos",children:"Top Earning"}),e.jsx(F,{value:"geography",children:"Geography"}),e.jsx(F,{value:"projections",children:"Projections"})]}),e.jsxs(V,{value:"sources",className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Revenue by Source"})}),e.jsx(k,{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(K,{width:"100%",height:250,children:e.jsxs(Ge,{children:[e.jsxs(_e,{data:s.revenueBySource,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,fill:"#8884d8",paddingAngle:2,dataKey:"percentage",nameKey:"source",label:({source:u,percentage:p})=>`${u}: ${p}%`,children:[" ",s.revenueBySource.map((u,p)=>e.jsx(ee,{fill:f[p%f.length]},`cell-${p}`))]}),e.jsx(z,{formatter:(u,p)=>[`${u}%`,p]})]})}),e.jsx("div",{className:"space-y-3",children:s.revenueBySource.map((u,p)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:f[p%f.length]}}),e.jsx("span",{className:"text-sm",children:u.source})]}),e.jsxs("span",{className:"text-sm font-medium",children:["$",u.amount.toLocaleString()]})]}),e.jsx(oe,{value:u.percentage,className:"h-1.5"})]},p))})]})})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Revenue by Format"})}),e.jsx(k,{children:e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center",children:[e.jsx(K,{width:"100%",height:250,children:e.jsxs(Ge,{children:[e.jsx(_e,{data:s.revenueByFormat,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:2,dataKey:"percentage",children:s.revenueByFormat.map((u,p)=>e.jsx(ee,{fill:u.format==="short"?y:d},`cell-${p}`))}),e.jsx(z,{formatter:(u,p,S)=>{const{format:i,amount:x}=S.payload;return[`$${x.toLocaleString()} (${u}%)`,i==="short"?"Shorts":"Long-form"]}})]})}),e.jsx("div",{className:"flex-1 space-y-6",children:s.revenueByFormat.map((u,p)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[u.format==="short"?e.jsx(As,{className:"mr-2 h-4 w-4"}):e.jsx(As,{className:"mr-2 h-4 w-4"}),e.jsx("h4",{className:"font-medium capitalize",children:u.format==="short"?"Shorts":"Long-form Videos"})]}),e.jsxs(E,{variant:u.format==="short"?"secondary":"default",children:[u.percentage,"%"]})]}),e.jsx(oe,{value:u.percentage,className:"h-2",color:u.format==="short"?y:d}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["$",u.amount.toLocaleString()]}),e.jsx("span",{className:"text-muted-foreground",children:u.format==="short"?"Shorts Monetization":"Traditional Monetization"})]})]},p))})]})})]})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"CPM Trends"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:300,children:e.jsxs(De,{data:s.cpmTrends,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(_,{tickFormatter:u=>`$${u}`}),e.jsx(z,{formatter:u=>[`$${u}`,"CPM"],labelFormatter:u=>{const p=new Date(u);return J(p,"MMMM d, yyyy")}}),e.jsx(Ee,{}),e.jsx(de,{type:"monotone",dataKey:"value",name:"CPM (Cost Per Mille)",stroke:y,strokeWidth:2,dot:{r:3},activeDot:{r:5}})]})})})]})]}),e.jsx(V,{value:"videos",className:"mt-6",children:e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Top Earning Videos"})}),e.jsx(k,{children:e.jsx("div",{className:"space-y-6",children:s.topEarningVideos.map((u,p)=>e.jsxs("div",{className:"flex flex-col gap-4 border-b pb-4 last:border-0 sm:flex-row",children:[e.jsxs("div",{className:"relative aspect-video w-full overflow-hidden rounded-md sm:w-48",children:[e.jsx("img",{src:u.thumbnailUrl,alt:u.title,className:"h-full w-full object-cover"}),u.format==="short"&&e.jsx(E,{className:"absolute right-1 top-1 bg-black/70 text-white",children:"Short"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"line-clamp-2 font-medium",children:u.title}),e.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Published"," ",J(new Date(u.publishedDate),"MMMM d, yyyy")]}),e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Revenue"}),e.jsxs("div",{className:"font-medium text-green-600",children:["$",u.revenue.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Views"}),e.jsx("div",{className:"font-medium",children:u.views.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"RPM"}),e.jsxs("div",{className:"font-medium",children:["$",u.revenuePerThousand.toFixed(2)]})]})]})]})]},p))})})]})}),e.jsx(V,{value:"geography",className:"mt-6",children:e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Revenue by Country"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:350,children:e.jsxs(re,{data:s.revenueByCountry.slice(0,10),layout:"vertical",margin:{top:5,right:30,left:80,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{type:"number",tickFormatter:u=>`$${u}`}),e.jsx(_,{type:"category",dataKey:"country",width:100}),e.jsx(z,{formatter:u=>[`$${u}`,"Revenue"]}),e.jsx(B,{dataKey:"revenue",fill:y,radius:[0,4,4,0],children:s.revenueByCountry.map((u,p)=>e.jsx(ee,{fill:f[p%f.length]},`cell-${p}`))})]})})})]})}),e.jsxs(V,{value:"projections",className:"mt-6 space-y-6",children:[e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Revenue Projections"})}),e.jsx(k,{children:e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 lg:grid-cols-4",children:[e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsx("div",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Next Month"}),e.jsx("div",{className:"text-xl font-bold",children:P(s.revenueProjection.nextMonth)}),e.jsxs("div",{className:`mt-1 flex items-center text-xs ${s.revenueProjection.growthRate>0?"text-green-500":"text-red-500"}`,children:[s.revenueProjection.growthRate>0?e.jsx(Ps,{className:"mr-1 h-3 w-3"}):e.jsx(ks,{className:"mr-1 h-3 w-3"}),Math.abs(s.revenueProjection.growthRate).toFixed(1),"% expected growth"]})]})}),e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsx("div",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Next Quarter"}),e.jsx("div",{className:"text-xl font-bold",children:P(s.revenueProjection.nextQuarter)}),e.jsxs("div",{className:`mt-1 flex items-center text-xs ${s.revenueProjection.growthRate>0?"text-green-500":"text-red-500"}`,children:[s.revenueProjection.growthRate>0?e.jsx(Ps,{className:"mr-1 h-3 w-3"}):e.jsx(ks,{className:"mr-1 h-3 w-3"}),"Based on current trends"]})]})}),e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsx("div",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Next Year"}),e.jsx("div",{className:"text-xl font-bold",children:P(s.revenueProjection.nextYear)}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"Annual projection"})]})}),e.jsx(T,{children:e.jsxs(k,{className:"flex flex-col p-4",children:[e.jsx("div",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Growth Rate"}),e.jsxs("div",{className:"text-xl font-bold",children:[s.revenueProjection.growthRate>0?"+":"",s.revenueProjection.growthRate.toFixed(1),"%"]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"Month-over-month"})]})})]})})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Year-over-Year Comparison"})}),e.jsx(k,{children:e.jsx(K,{width:"100%",height:300,children:e.jsxs(re,{data:s.yearlyComparisonData,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"month"}),e.jsx(_,{tickFormatter:u=>`$${u}`}),e.jsx(z,{formatter:u=>[`$${u}`,""]}),e.jsx(Ee,{}),e.jsx(B,{dataKey:"lastYear",name:"Last Year",fill:d,radius:[4,4,0,0]}),e.jsx(B,{dataKey:"thisYear",name:"This Year",fill:y,radius:[4,4,0,0]})]})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Ad Performance"})}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Impressions"}),e.jsx("div",{className:"font-medium",children:s.adPerformance.totalImpressions.toLocaleString()})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Click Rate"}),e.jsxs("div",{className:"font-medium",children:[s.adPerformance.ctr.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Average CPM"}),e.jsxs("div",{className:"font-medium",children:["$",s.adPerformance.averageCpm.toFixed(2)]})]})]}),e.jsx("h4",{className:"mt-4 text-sm font-medium",children:"Top Performing Ad Types"}),e.jsx("div",{className:"space-y-3",children:s.adPerformance.topPerformingAdTypes.map((u,p)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border p-2",children:[e.jsx("span",{className:"text-sm",children:u.type}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"CPM"}),e.jsxs("span",{className:"font-medium",children:["$",u.cpm.toFixed(2)]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Revenue"}),e.jsxs("span",{className:"font-medium text-green-600",children:["$",u.revenue.toLocaleString()]})]})]})]},p))})]})})]}),e.jsxs(T,{children:[e.jsx(D,{className:"pb-2",children:e.jsx(O,{className:"text-lg",children:"Sponsorship Performance"})}),e.jsx(k,{children:e.jsx("div",{className:"space-y-4",children:s.sponsorshipPerformance.map((u,p)=>e.jsxs("div",{className:"rounded-md border p-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h4",{className:"font-medium",children:u.campaignName}),e.jsx(E,{children:u.status})]}),e.jsx("div",{className:"mt-2 text-sm",children:`${u.status==="active"?"Currently running":u.status==="completed"?"Campaign finished":"Scheduled"} sponsorship campaign`}),e.jsxs("div",{className:"mt-3 grid grid-cols-4 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Amount"}),e.jsxs("div",{className:"font-medium",children:["$",u.revenue.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Views"}),e.jsx("div",{className:"font-medium",children:u.viewCount.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"CPV"}),e.jsxs("div",{className:"font-medium",children:["$",u.costPerView.toFixed(4)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Engagement"}),e.jsxs("div",{className:"font-medium",children:[u.engagementRate,"%"]})]})]})]},p))})})]})]})]})]})}const qe=(s,t,n="up",a=30)=>{const c=[];let h=r.number.int({min:s,max:t});const m=new Date;for(let f=a;f>=0;f--){const y=new Date;y.setDate(m.getDate()-f);let d;n==="up"?d=r.number.float({min:-2,max:5,precision:.1}):n==="down"?d=r.number.float({min:-5,max:2,precision:.1}):d=r.number.float({min:-2,max:2,precision:.1});const j=h*(d/100);h=Math.max(s,h+j),c.push({date:y.toISOString().split("T")[0],value:Math.round(h)})}return c},ja=s=>Array.from({length:s},()=>{const t=r.helpers.arrayElement(["short","long"]),n=r.date.recent({days:60});return{id:r.string.alphanumeric(11),title:va(t),thumbnailUrl:r.image.urlLoremFlickr({category:t==="short"?"people":"technology",width:1280,height:720}),viewCount:r.number.int({min:t==="short"?5e3:1e3,max:t==="short"?5e5:1e5}),type:t,performanceScore:r.number.int({min:60,max:98}),publishedAt:n.toISOString()}}).sort((t,n)=>n.performanceScore-t.performanceScore),va=s=>{const t={short:["I can't believe this happened! 😱","You won't believe what I found 🔥","This trick changed everything 🚀","Watch this before it's too late 🔴","How to {verb} in under 60 seconds","{number} ways to {verb} your {noun}","POV: When you {verb} but {situation}","The REAL way to {verb} 🤯","No one is talking about this {topic} trick"],long:["How I {verb} My {noun} in {number} Days (Complete Guide)","The Ultimate Guide to {topic} in 2025","{number} Things Nobody Tells You About {topic}","I Tried {topic} For 30 Days - Here's What Happened","{topic} Masterclass | From Beginner to Pro","How to {verb} Like a Pro (Step-by-Step Tutorial)","The Truth About {topic} That No One Tells You","We Need to Talk About {topic}...","{topic} Review: Is It Really Worth It in 2025?"]},n=s==="short"?t.short:t.long;let a=r.helpers.arrayElement(n);return a.includes("{verb}")&&(a=a.replace("{verb}",r.helpers.arrayElement(["master","optimize","improve","grow","build","learn","create","transform","boost"]))),a.includes("{noun}")&&(a=a.replace("{noun}",r.helpers.arrayElement(["channel","business","skills","workflow","productivity","content","portfolio","strategy"]))),a.includes("{topic}")&&(a=a.replace("{topic}",r.helpers.arrayElement(["YouTube Growth","Content Creation","Digital Marketing","SEO","Social Media Strategy","Video Editing","Passive Income","Monetization","Algorithm Hacks"]))),a.includes("{number}")&&(a=a.replace("{number}",r.helpers.arrayElement(["3","5","7","10","12"]))),a.includes("{situation}")&&(a=a.replace("{situation}",r.helpers.arrayElement(["it fails","nobody cares","everyone laughs","it actually works","you're doing it wrong"]))),a},ya=()=>{const s=["13-17","18-24","25-34","35-44","45-54","55-64","65+"],t=[];let n=100;for(let a=0;a<s.length-1;a++){let c;s[a]==="18-24"||s[a]==="25-34"?c=r.number.int({min:15,max:30}):s[a]==="13-17"?c=r.number.int({min:5,max:12}):c=r.number.int({min:5,max:15}),c=Math.min(c,n-(s.length-a-1)),n-=c;let h;s[a]==="18-24"||s[a]==="25-34"?h=r.number.int({min:55,max:75}):h=r.number.int({min:45,max:65}),t.push({ageRange:s[a],percentage:c,malePercentage:h,femalePercentage:100-h-r.number.int({min:0,max:2}),otherPercentage:r.number.int({min:0,max:2})})}return t.push({ageRange:s[s.length-1],percentage:n,malePercentage:r.number.int({min:40,max:60}),femalePercentage:r.number.int({min:38,max:58}),otherPercentage:r.number.int({min:0,max:2})}),t.sort((a,c)=>c.percentage-a.percentage)},ba=()=>{const s=["United States","India","United Kingdom","Canada","Australia","Germany","Brazil","Philippines","Nigeria","Other"],t=r.number.int({min:5e5,max:5e6}),n=[];let a=100;for(let c=0;c<s.length-1;c++){let h;s[c]==="United States"?h=r.number.int({min:20,max:35}):s[c]==="India"?h=r.number.int({min:15,max:30}):s[c]==="United Kingdom"||s[c]==="Canada"?h=r.number.int({min:5,max:15}):h=r.number.int({min:2,max:8}),h=Math.min(h,a-(s.length-c-1)),a-=h,n.push({country:s[c],percentage:h,viewsCount:Math.floor(h/100*t)})}return n.push({country:"Other",percentage:a,viewsCount:Math.floor(a/100*t)}),n.sort((c,h)=>h.percentage-c.percentage)},Na=()=>{const s=["Tutorial","Review","How-to","Explanation","News","Comparison","Case Study","Behind the Scenes","Q&A","Tips & Tricks"];return r.helpers.shuffle(s).slice(0,6).map(t=>({topic:t,engagementScore:r.number.int({min:50,max:98}),viewsPercentage:r.number.int({min:5,max:25})})).sort((t,n)=>n.engagementScore-t.engagementScore)},wa=()=>{const s=[{id:"upload-shorts",title:"Upload more Shorts",description:"Shorts are driving significant engagement. Try to publish 2-3 shorts weekly.",impact:"high",category:"content"},{id:"keyword-optimization",title:"Optimize keywords in top videos",description:"Your top-performing videos could reach more viewers with better keyword optimization.",impact:"medium",category:"seo"},{id:"thumbnail-redesign",title:"Redesign thumbnails for low-CTR videos",description:"Several videos have below-average click-through rates. Revamped thumbnails could improve performance.",impact:"high",category:"seo"},{id:"community-posts",title:"Increase community engagement",description:"Posting more community posts can boost subscriber retention and video views.",impact:"medium",category:"engagement"},{id:"video-length",title:"Optimize video length",description:"Your 7-12 minute videos have the highest retention. Consider this length for future content.",impact:"medium",category:"content"},{id:"topic-clusters",title:"Create topic clusters",description:"Group related videos into playlists to increase watch time and session duration.",impact:"medium",category:"seo"},{id:"monetization-review",title:"Review monetization strategy",description:"Your channel may benefit from diversifying revenue streams beyond AdSense.",impact:"high",category:"monetization"},{id:"trend-alignment",title:"Align with current trends",description:"Create content related to trending topics in your niche to capture search traffic.",impact:"high",category:"content"}];return r.helpers.shuffle(s).slice(0,5)},Sa=async()=>{await new Promise(m=>setTimeout(m,800));const s=r.number.int({min:1e4,max:2e5}),t=r.number.int({min:1e6,max:1e7}),n=r.number.int({min:80,max:320}),a=Math.floor(t/n),c=r.number.float({min:3,max:6,precision:.1}),h=Math.floor(t*c/60);return{subscriberCount:s,totalViews:t,totalVideos:n,watchTimeHours:h,averageViewDuration:`${Math.floor(c)}:${Math.floor(c%1*60).toString().padStart(2,"0")}`,topPerformingVideos:ja(5),subscriberGrowth:qe(s*.95,s,"up"),viewsGrowth:qe(a*.7,a*1.3,"up"),impressionsGrowth:qe(a*5,a*15,"stable"),ctrTrend:qe(3,8,"stable").map(m=>({date:m.value,value:parseFloat((m.value/10).toFixed(1))})),audienceDemographics:ya(),audienceCountries:ba(),channelHealthScore:r.number.int({min:65,max:88}),mostEngagingTopics:Na(),recommendedActions:wa()}},Ta=()=>pe({queryKey:["channelInsights"],queryFn:Sa,staleTime:1e3*60*5});function ka(){const{data:s,isLoading:t,error:n}=Ta(),[a,c]=Z.useState("overview");if(t)return e.jsxs(T,{children:[e.jsxs(D,{children:[e.jsx(M,{className:"h-8 w-64"}),e.jsx(M,{className:"mt-1 h-4 w-48"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:Array.from({length:4}).map((o,l)=>e.jsx(M,{className:"h-24 w-full"},l))}),e.jsx(M,{className:"mt-6 h-72 w-full"})]})]});if(n||!s)return e.jsxs(we,{variant:"destructive",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx(Se,{children:"Error"}),e.jsx(Te,{children:"Failed to load channel insights. Please try again later."})]});const h=s.subscriberGrowth.slice(-2),m=h.length===2?(h[1].value-h[0].value)/h[0].value*100:0,f=s.viewsGrowth.slice(-2),y=f.length===2?(f[1].value-f[0].value)/f[0].value*100:0,d=["#4f46e5","#7c3aed","#0ea5e9","#14b8a6","#6366f1","#8b5cf6","#a855f7","#d946ef"],j=["#4f46e5","#6366f1","#8b5cf6","#d946ef","#ec4899","#f43f5e"];return e.jsxs(T,{className:"w-full",children:[e.jsxs(D,{children:[e.jsx(O,{children:"Channel Insights"}),e.jsx(me,{children:"Analyze performance and growth metrics for your channel"})]}),e.jsxs(k,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Je,{title:"Subscribers",value:je(s.subscriberCount),icon:e.jsx(ts,{className:"h-4 w-4"}),trend:m,subtitle:`${Math.abs(m).toFixed(1)}% ${m>=0?"increase":"decrease"}`}),e.jsx(Je,{title:"Total Views",value:je(s.totalViews),icon:e.jsx(Bs,{className:"h-4 w-4"}),trend:y,subtitle:`${Math.abs(y).toFixed(1)}% ${y>=0?"increase":"decrease"}`}),e.jsx(Je,{title:"Watch Time",value:`${je(s.watchTimeHours)} hrs`,icon:e.jsx(vs,{className:"h-4 w-4"}),trend:void 0,subtitle:`${s.totalVideos} videos`}),e.jsx(Je,{title:"Channel Health",value:`${s.channelHealthScore}/100`,icon:e.jsx(Be,{className:"h-4 w-4"}),trend:void 0,subtitle:Ds(s.channelHealthScore),scoreColor:Pa(s.channelHealthScore)})]}),e.jsxs(ge,{defaultValue:"overview",value:a,onValueChange:c,children:[e.jsxs(fe,{className:"mb-4 grid grid-cols-5",children:[e.jsx(F,{value:"overview",children:"Overview"}),e.jsx(F,{value:"growth",children:"Growth"}),e.jsx(F,{value:"audience",children:"Audience"}),e.jsx(F,{value:"content",children:"Content"}),e.jsx(F,{value:"actions",children:"Actions"})]}),e.jsxs(V,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"h-72",children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Subscriber Growth"}),e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(De,{data:s.subscriberGrowth,children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"date",tick:{fontSize:12},tickFormatter:o=>{const l=new Date(o);return`${l.getDate()}/${l.getMonth()+1}`}}),e.jsx(_,{tick:{fontSize:12},tickFormatter:o=>Qe(o)}),e.jsx(z,{formatter:o=>[je(o),"Subscribers"],labelFormatter:o=>new Date(o).toLocaleDateString()}),e.jsx(de,{type:"monotone",dataKey:"value",name:"Subscribers",stroke:"#4f46e5",strokeWidth:2,dot:!1})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Top Performing Videos"}),e.jsxs("div",{className:"space-y-3",children:[s.topPerformingVideos.slice(0,3).map(o=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"relative h-14 w-24 shrink-0",children:[e.jsx("img",{src:o.thumbnailUrl,alt:o.title,className:"h-full w-full rounded-md object-cover"}),o.type==="short"&&e.jsx(E,{className:"absolute left-1 top-1 text-xs",variant:"destructive",children:"SHORT"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"line-clamp-2 text-sm font-medium",children:o.title}),e.jsxs("div",{className:"mt-1 flex justify-between",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Qe(o.viewCount)," views"]}),e.jsxs(E,{variant:"outline",className:"text-xs",children:[o.performanceScore,"/100"]})]})]})]},o.id)),e.jsxs("p",{className:"mt-2 text-center text-xs text-muted-foreground",children:["Showing top 3 of ",s.topPerformingVideos.length," videos"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Audience Demographics"}),e.jsx("div",{className:"h-64",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(Ge,{children:[e.jsx(_e,{data:s.audienceDemographics.slice(0,5),dataKey:"percentage",nameKey:"ageRange",cx:"50%",cy:"50%",outerRadius:80,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,children:s.audienceDemographics.slice(0,5).map((o,l)=>e.jsx(ee,{fill:d[l%d.length]},`cell-${l}`))}),e.jsx(z,{formatter:o=>[`${o}%`,"Percentage"]}),e.jsx(Ee,{})]})})})]})]})]}),e.jsxs(V,{value:"growth",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-medium",children:"Views Growth"}),e.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Daily views over the last 30 days"}),e.jsx("div",{className:"h-64",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(De,{data:s.viewsGrowth,children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"date",tick:{fontSize:12},tickFormatter:o=>{const l=new Date(o);return`${l.getDate()}/${l.getMonth()+1}`}}),e.jsx(_,{tick:{fontSize:12},tickFormatter:o=>Qe(o)}),e.jsx(z,{formatter:o=>[je(o),"Views"],labelFormatter:o=>new Date(o).toLocaleDateString()}),e.jsx(de,{type:"monotone",dataKey:"value",name:"Views",stroke:"#0ea5e9",strokeWidth:2,dot:!1})]})})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-medium",children:"Impressions & CTR"}),e.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Impression volume and click-through rate"}),e.jsx("div",{className:"h-64",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(De,{data:s.impressionsGrowth,children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"date",tick:{fontSize:12},tickFormatter:o=>{const l=new Date(o);return`${l.getDate()}/${l.getMonth()+1}`}}),e.jsx(_,{yAxisId:"left",tick:{fontSize:12},tickFormatter:o=>Qe(o)}),e.jsx(_,{yAxisId:"right",orientation:"right",domain:[0,10],tickFormatter:o=>`${o}%`}),e.jsx(z,{formatter:(o,l)=>[l==="Impressions"?je(o):`${o}%`,l],labelFormatter:o=>new Date(o).toLocaleDateString()}),e.jsx(de,{yAxisId:"left",type:"monotone",dataKey:"value",name:"Impressions",stroke:"#6366f1",strokeWidth:2,dot:!1}),e.jsx(de,{yAxisId:"right",type:"monotone",dataKey:"value",data:s.ctrTrend,name:"CTR",stroke:"#f43f5e",strokeWidth:2,dot:!1})]})})})]})]}),e.jsxs("div",{className:"rounded-md bg-muted p-4",children:[e.jsx("h3",{className:"mb-2 font-medium",children:"Growth Insights"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm",children:"Subscriber Growth Rate"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{value:Math.min(100,Math.max(0,m*10+50)),className:"h-2"}),e.jsxs("span",{className:"text-sm font-medium",children:[m>0?"+":"",m.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm",children:"Average View Duration"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{value:parseInt(s.averageViewDuration.split(":")[0])/10*100,className:"h-2"}),e.jsx("span",{className:"text-sm font-medium",children:s.averageViewDuration})]})]})]})]})]}),e.jsxs(V,{value:"audience",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Age & Gender"}),e.jsx("div",{className:"h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(re,{data:s.audienceDemographics.map(o=>({name:o.ageRange,Male:o.percentage*(o.malePercentage/100),Female:o.percentage*(o.femalePercentage/100),Other:o.percentage*(o.otherPercentage/100)})),layout:"vertical",children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{type:"number",tick:{fontSize:12}}),e.jsx(_,{dataKey:"name",type:"category",tick:{fontSize:12},width:40}),e.jsx(z,{formatter:o=>[`${o.toFixed(1)}%`,""]}),e.jsx(Ee,{}),e.jsx(B,{dataKey:"Male",stackId:"a",fill:"#4f46e5"}),e.jsx(B,{dataKey:"Female",stackId:"a",fill:"#8b5cf6"}),e.jsx(B,{dataKey:"Other",stackId:"a",fill:"#d946ef"})]})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Top Countries"}),e.jsx("div",{className:"h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(re,{data:s.audienceCountries.slice(0,6),layout:"vertical",children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{type:"number",tick:{fontSize:12}}),e.jsx(_,{dataKey:"country",type:"category",tick:{fontSize:12},width:100}),e.jsx(z,{formatter:(o,l,v)=>{const C=s.audienceCountries.find(P=>P.country===v.payload.country);return[`${o}% (${je((C==null?void 0:C.viewsCount)||0)} views)`,"Audience"]}}),e.jsx(B,{dataKey:"percentage",fill:"#6366f1",radius:[0,4,4,0],children:s.audienceCountries.slice(0,6).map((o,l)=>e.jsx(ee,{fill:d[l%d.length]},`cell-${l}`))})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsx("h3",{className:"mb-2 font-medium",children:"Audience Acquisition"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Subscribers from videos"}),e.jsx("span",{className:"text-sm font-medium",children:"68%"})]}),e.jsx(oe,{value:68,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Subscribers from channel page"}),e.jsx("span",{className:"text-sm font-medium",children:"21%"})]}),e.jsx(oe,{value:21,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Subscribers from external sources"}),e.jsx("span",{className:"text-sm font-medium",children:"11%"})]}),e.jsx(oe,{value:11,className:"h-2"})]})]}),e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsx("h3",{className:"mb-2 font-medium",children:"Audience Behavior"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"• Peak viewing hours:"}),e.jsx("span",{className:"font-medium",children:"18:00 - 22:00 UTC"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"• Most active days:"}),e.jsx("span",{className:"font-medium",children:"Weekends, Wednesday"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"• Subscriber watch %:"}),e.jsx("span",{className:"font-medium",children:"32% of total views"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"• Notification click rate:"}),e.jsx("span",{className:"font-medium",children:"5.8%"})]})]})]})]})]}),e.jsx(V,{value:"content",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Most Engaging Topics"}),e.jsx("div",{className:"h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(re,{data:s.mostEngagingTopics,layout:"vertical",children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{type:"number",domain:[0,100],tick:{fontSize:12}}),e.jsx(_,{dataKey:"topic",type:"category",tick:{fontSize:12},width:100}),e.jsx(z,{formatter:o=>[`${o}/100`,"Engagement Score"]}),e.jsx(B,{dataKey:"engagementScore",name:"Engagement Score",radius:[0,4,4,0],children:s.mostEngagingTopics.map((o,l)=>e.jsx(ee,{fill:j[l%j.length]},`cell-${l}`))})]})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Content Performance"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3 rounded-md border bg-card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Shorts vs Long-form"}),e.jsx(E,{variant:"outline",children:"Views ratio"})]}),e.jsxs("div",{className:"flex h-8 overflow-hidden rounded-full bg-muted",children:[e.jsx("div",{className:"flex items-center justify-center bg-red-500 text-xs font-medium text-white",style:{width:"62%"},children:"Shorts 62%"}),e.jsx("div",{className:"flex items-center justify-center bg-blue-500 text-xs font-medium text-white",style:{width:"38%"},children:"Long-form 38%"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Shorts receive more views but long-form content has higher watch time"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-md border bg-card p-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Videos"}),e.jsx("p",{className:"mt-1 text-lg font-bold",children:s.totalVideos}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[e.jsxs(E,{variant:"outline",className:"text-xs",children:[Math.round(s.totalVideos*.35)," Shorts"]}),e.jsxs(E,{variant:"outline",className:"text-xs",children:[Math.round(s.totalVideos*.65)," Long-form"]})]})]}),e.jsxs("div",{className:"rounded-md border bg-card p-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Performance"}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[e.jsx("p",{className:"text-lg font-bold",children:s.channelHealthScore}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"/100"})]}),e.jsx(E,{variant:s.channelHealthScore>75?"default":s.channelHealthScore>60?"secondary":"outline",className:"mt-1 text-xs",children:Ds(s.channelHealthScore)})]})]}),e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsx("h4",{className:"mb-2 text-sm font-medium",children:"Content Insights"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"• Optimal video length: 8-12 minutes"}),e.jsx("li",{children:"• Best posting days: Wednesday, Saturday"}),e.jsx("li",{children:"• Tutorial content performs 2.3x better than other formats"}),e.jsx("li",{children:"• End screen CTR: 4.8%"})]})]})]})]})]})}),e.jsxs(V,{value:"actions",className:"space-y-6",children:[e.jsx("h3",{className:"mb-2 font-medium",children:"Recommended Actions"}),e.jsx("div",{className:"space-y-4",children:s.recommendedActions.map(o=>e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"font-medium",children:o.title}),e.jsxs(E,{variant:o.impact==="high"?"default":o.impact==="medium"?"secondary":"outline",children:[o.impact," impact"]})]}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:o.description}),e.jsx("div",{className:"mt-2 flex items-center",children:e.jsx(E,{variant:"outline",className:"mr-1",children:o.category})})]},o.id))}),e.jsxs("div",{className:"mt-6 rounded-md bg-muted p-4",children:[e.jsx("h4",{className:"mb-2 font-medium",children:"Channel Health Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Overall Health"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.channelHealthScore,"%"]})]}),e.jsx(oe,{value:s.channelHealthScore,className:"h-2"})]}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Your channel health score is"," ",s.channelHealthScore>75?"good":s.channelHealthScore>60?"average":"below average",". Implementing the recommended actions could improve your score by 10-15%."]})]})]})]})]})]})]})}function Je({title:s,value:t,icon:n,trend:a,subtitle:c,scoreColor:h}){return e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:s}),n&&e.jsx("div",{className:"text-muted-foreground",children:n})]}),e.jsx("p",{className:"mt-2 text-2xl font-bold",style:h?{color:h}:void 0,children:t}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[a!==void 0&&e.jsx(e.Fragment,{children:a>=0?e.jsx(ns,{className:"h-3 w-3 text-green-500"}):e.jsx(fs,{className:"h-3 w-3 text-red-500"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c})]})]})}const je=s=>new Intl.NumberFormat().format(s),Qe=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),Ds=s=>s>80?"Excellent":s>70?"Very Good":s>60?"Good":s>50?"Average":"Needs Improvement",Pa=s=>s>80?"#10b981":s>70?"#22c55e":s>60?"#facc15":s>50?"#f59e0b":"#ef4444",Aa=s=>{var u;const t=s.type==="short",n=new Date(s.publishedAt),a=Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)),c=()=>{const p=[];let S=100;S-=r.number.int({min:5,max:15}),p.push({position:0,retentionPercentage:100}),p.push({position:10,retentionPercentage:S});for(let x=20;x<=80;x+=10){const g=r.number.int({min:2,max:8});S-=g,p.push({position:x,retentionPercentage:S})}const i=t?.7:1.2;for(let x=90;x<=100;x+=10){const g=r.number.int({min:3,max:10})*i;S-=g,p.push({position:x,retentionPercentage:Math.max(S,x===100?5:15)})}return p},h=p=>{const S=t?parseInt(s.duration.split(":")[1]):parseInt(s.duration.split(":")[0])*60+parseInt(s.duration.split(":")[1]);let i=0;p.forEach($=>{i+=$.retentionPercentage});const x=i/p.length,g=Math.floor(S*(x/100)),b=Math.floor(g/60),w=g%60;return`${b}:${w.toString().padStart(2,"0")}`},m=c(),f=h(m),y=m.reduce((p,S)=>p+S.retentionPercentage,0),d=Math.round(y/m.length),j=()=>{const p=[{source:"Subscribers",percentage:r.number.int({min:15,max:45})},{source:"Non-subscribers",percentage:0}];return p[1].percentage=100-p[0].percentage,p},o=()=>{const p=[{source:"YouTube search",percentage:r.number.int({min:t?5:15,max:t?15:40}),views:0},{source:"Browse features",percentage:r.number.int({min:10,max:30}),views:0},{source:"Suggested videos",percentage:r.number.int({min:10,max:35}),views:0},{source:t?"Shorts feed":"External",percentage:0,views:0}],S=p.slice(0,3).reduce((i,x)=>i+x.percentage,0);return p[3].percentage=100-S,p.forEach(i=>{i.views=Math.floor(i.percentage/100*s.views)}),p},l=()=>{const p=(s.likes+s.comments)/s.views*100;let S=0;return a<=7&&(S+=r.number.int({min:10,max:25})),p>10?S+=40:p>5?S+=30:p>3?S+=20:S+=10,s.views>1e5?S+=30:s.views>1e4?S+=20:s.views>1e3?S+=10:S+=5,S+=r.number.int({min:-5,max:5}),Math.min(100,Math.max(0,S))},v=s.views*r.number.float({min:5,max:20,precision:.1}),C=s.views/v*100,P=o();return{videoId:s.id,title:s.title,thumbnailUrl:s.thumbnailUrl,publishedAt:s.publishedAt,retentionRate:d,averageViewDuration:f,ctr:parseFloat(C.toFixed(1)),viewsPerHour:a<=2?Math.floor(s.views/(a*24||1)):0,viewsLast48Hours:a<=30?Math.floor(s.views*(a<=2?1:.15)):0,viewsLast7Days:a<=30?Math.floor(s.views*(a<=7?1:.4)):0,viewsLast30Days:a<=60?Math.floor(s.views*(a<=30?1:.7)):0,subscribersGained:Math.floor(s.views*r.number.float({min:.001,max:.05,precision:.001})),impressions:Math.floor(v),audienceRetention:m,audienceSourcesData:j(),trafficSources:P,performanceScore:l(),recommendationImpressions:Math.floor(v*(((u=P.find(p=>p.source==="Suggested videos"))==null?void 0:u.percentage)||20)/100)}},Ca=async s=>{await new Promise(n=>setTimeout(n,600));const t={id:s,title:r.lorem.sentence(),thumbnailUrl:r.image.urlLoremFlickr({category:"technology",width:1280,height:720}),views:r.number.int({min:1e3,max:5e5}),likes:r.number.int({min:100,max:5e4}),comments:r.number.int({min:10,max:5e3}),publishedAt:r.date.recent({days:60}).toISOString(),type:r.helpers.arrayElement(["short","long"]),duration:r.helpers.arrayElement(["0:45","3:22","8:15","12:48"]),description:r.lorem.paragraph(),tags:Array.from({length:5},()=>r.word.sample())};return Aa(t)},Ma=s=>pe({queryKey:["videoInsights",s],queryFn:()=>Ca(s),enabled:!!s,staleTime:1e3*60*5});function Ra({videoId:s}){const{data:t,isLoading:n,error:a}=Ma(s),[c,h]=Z.useState("overview");if(!s)return e.jsxs(T,{children:[e.jsxs(D,{children:[e.jsx(O,{children:"Video Performance"}),e.jsx(me,{children:"Select a video to see performance metrics"})]}),e.jsx(k,{className:"flex items-center justify-center py-12 text-muted-foreground",children:"No video selected"})]});if(n)return e.jsxs(T,{children:[e.jsxs(D,{children:[e.jsx(M,{className:"h-6 w-3/4"}),e.jsx(M,{className:"mt-2 h-4 w-1/2"})]}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(M,{className:"h-64 w-full"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(M,{className:"h-24 w-full"}),e.jsx(M,{className:"h-24 w-full"})]})]})})]});if(a||!t)return e.jsxs(we,{variant:"destructive",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx(Se,{children:"Error"}),e.jsx(Te,{children:"Failed to load video insights. Please try again later."})]});const m=t.audienceRetention.map(d=>({position:`${d.position}%`,retention:d.retentionPercentage})),f=t.trafficSources.map(d=>({name:d.source,views:d.views,percentage:d.percentage})),y=[{name:"Last 48h",views:t.viewsLast48Hours},{name:"Last 7d",views:t.viewsLast7Days},{name:"Last 30d",views:t.viewsLast30Days}];return e.jsxs(T,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex flex-col items-start justify-between gap-2 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx(O,{className:"line-clamp-1",children:t.title}),e.jsxs(me,{children:["Published"," ",Ks(new Date(t.publishedAt),{addSuffix:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(E,{variant:t.performanceScore>80?"default":t.performanceScore>50?"secondary":"outline",children:["Score: ",t.performanceScore,"/100"]}),t.viewsPerHour>0&&e.jsxs(E,{variant:"outline",className:"bg-amber-50",children:[t.viewsPerHour," views/hour"]})]})]})}),e.jsx(k,{children:e.jsxs(ge,{value:c,onValueChange:h,children:[e.jsxs(fe,{className:"mb-4 grid grid-cols-4",children:[e.jsx(F,{value:"overview",children:"Overview"}),e.jsx(F,{value:"retention",children:"Retention"}),e.jsx(F,{value:"traffic",children:"Traffic Sources"}),e.jsx(F,{value:"audience",children:"Audience"})]}),e.jsxs(V,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Ze,{title:"Views",value:t.viewsLast30Days.toLocaleString(),subtitle:"Last 30 days"}),e.jsx(Ze,{title:"CTR",value:`${t.ctr.toFixed(1)}%`,subtitle:`${t.impressions.toLocaleString()} impressions`}),e.jsx(Ze,{title:"Avg. View Duration",value:t.averageViewDuration,subtitle:`${t.retentionRate}% retention`}),e.jsx(Ze,{title:"New Subscribers",value:t.subscribersGained.toLocaleString(),subtitle:"From this video"})]}),e.jsxs("div",{className:"mt-6 h-64",children:[e.jsx("p",{className:"mb-2 font-medium",children:"Views Trend"}),e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(re,{data:y,children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(Y,{dataKey:"name"}),e.jsx(_,{}),e.jsx(z,{}),e.jsx(B,{dataKey:"views",fill:"#4f46e5",radius:[4,4,0,0]})]})})]})]}),e.jsxs(V,{value:"retention",className:"space-y-4",children:[e.jsxs("div",{className:"rounded-md bg-muted p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:"Average Retention"}),e.jsxs(E,{children:[t.retentionRate,"%"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Videos with retention higher than 50% typically perform well in recommendations."})]}),e.jsx("div",{className:"mt-2 h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(_s,{data:m,children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"position"}),e.jsx(_,{domain:[0,100]}),e.jsx(z,{}),e.jsx(js,{type:"monotone",dataKey:"retention",stroke:"#4f46e5",fill:"#c7d2fe"})]})})}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Key Insights"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{children:["• Average view time: ",t.averageViewDuration]}),e.jsxs("li",{children:["•"," ",t.retentionRate>60?"Strong":t.retentionRate>40?"Average":"Below average"," ","overall retention"]}),t.audienceRetention.length>3&&e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:["•"," ",t.audienceRetention[2].retentionPercentage-t.audienceRetention[1].retentionPercentage>-8?"Good early retention":"High early drop-off"]}),e.jsxs("li",{children:["•"," ",t.audienceRetention[t.audienceRetention.length-2].retentionPercentage>30?"Strong ending retention":"Low ending retention"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Recommendations"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{children:["•"," ",t.audienceRetention[1].retentionPercentage<80?"Strengthen your intro to reduce early drop-offs":"Strong intro - maintain this approach"]}),e.jsxs("li",{children:["•"," ",t.audienceRetention[Math.floor(t.audienceRetention.length/2)].retentionPercentage<50?"Add pattern interrupts in the middle to maintain interest":"Good mid-video engagement - continue using pattern interrupts"]}),e.jsxs("li",{children:["•"," ",t.audienceRetention[t.audienceRetention.length-1].retentionPercentage<25?"Add a stronger call-to-action at the end":"Effective ending - continue this style"]})]})]})]})]}),e.jsxs(V,{value:"traffic",className:"space-y-4",children:[e.jsx("div",{className:"h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(re,{data:f,layout:"vertical",children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(Y,{type:"number"}),e.jsx(_,{dataKey:"name",type:"category",width:120}),e.jsx(z,{formatter:d=>[`${d.toLocaleString()} views`,""],labelFormatter:d=>`Traffic Source: ${d}`}),e.jsx(B,{dataKey:"views",fill:"#4f46e5"})]})})}),e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:t.trafficSources.map(d=>e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"font-medium",children:d.source}),e.jsxs(E,{variant:"outline",children:[d.percentage,"%"]})]}),e.jsx("p",{className:"mt-2 text-2xl font-bold",children:d.views.toLocaleString()}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"views"})]},d.source))}),e.jsxs("div",{className:"mt-4 rounded-md bg-muted p-4",children:[e.jsx("h4",{className:"mb-2 font-medium",children:"Traffic Insights"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{children:["• ",t.trafficSources[0].source," is your top traffic source (",t.trafficSources[0].percentage,"%)"]}),e.jsxs("li",{children:["•"," ",t.ctr>6?"Above average":t.ctr>4?"Average":"Below average"," ","click-through rate of ",t.ctr,"%"]}),e.jsxs("li",{children:["• ",t.recommendationImpressions.toLocaleString()," ","impressions from recommendations"]}),e.jsxs("li",{children:["• Optimize for"," ",t.trafficSources[0].percentage>30?t.trafficSources[0].source:"Browse features"," ","to maximize growth"]})]})]})]}),e.jsx(V,{value:"audience",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3 font-medium",children:"Viewer Demographics"}),e.jsx("div",{className:"space-y-3",children:t.audienceSourcesData.map(d=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:d.source}),e.jsxs("span",{className:"font-medium",children:[d.percentage,"%"]})]}),e.jsx("div",{className:"h-2 overflow-hidden rounded bg-muted",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${d.percentage}%`}})})]},d.source))}),e.jsx("h4",{className:"mb-3 mt-6 font-medium",children:"Engagement Metrics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-md border bg-card p-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Like Rate"}),e.jsx("p",{className:"mt-1 text-lg font-bold",children:((t.viewsLast30Days>0?t.viewsLast30Days:1e3)*.045).toLocaleString()})]}),e.jsxs("div",{className:"rounded-md border bg-card p-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Comment Rate"}),e.jsx("p",{className:"mt-1 text-lg font-bold",children:((t.viewsLast30Days>0?t.viewsLast30Days:1e3)*.012).toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3 font-medium",children:"Performance Comparison"}),e.jsxs("div",{className:"space-y-4 rounded-md border bg-card p-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Views"}),e.jsxs("span",{className:"text-sm font-medium",children:[t.performanceScore>70?"+":"-",ds(10,60),"% vs. average"]})]}),e.jsx("div",{className:"h-1.5 overflow-hidden rounded bg-muted",children:e.jsx("div",{className:`h-full ${t.performanceScore>70?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${t.performanceScore}%`}})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Watch time"}),e.jsxs("span",{className:"text-sm font-medium",children:[t.retentionRate>45?"+":"-",ds(5,40),"% vs. average"]})]}),e.jsx("div",{className:"h-1.5 overflow-hidden rounded bg-muted",children:e.jsx("div",{className:`h-full ${t.retentionRate>45?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${t.retentionRate*1.1}%`}})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Engagement"}),e.jsxs("span",{className:"text-sm font-medium",children:[t.performanceScore>65?"+":"-",ds(8,55),"% vs. average"]})]}),e.jsx("div",{className:"h-1.5 overflow-hidden rounded bg-muted",children:e.jsx("div",{className:`h-full ${t.performanceScore>65?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(100,t.performanceScore*1.2)}%`}})})]})]}),e.jsx("h4",{className:"mb-2 mt-6 font-medium",children:"Key Takeaways"}),e.jsxs("ul",{className:"space-y-1.5 text-sm",children:[e.jsxs("li",{children:["•"," ",t.performanceScore>80?"Exceptional":t.performanceScore>60?"Good":"Average"," ","overall performance"]}),e.jsxs("li",{children:["• ",t.subscribersGained>100?"Strong":"Average"," ","subscriber conversion"]}),e.jsxs("li",{children:["• ",t.ctr>5?"Effective":"Could improve"," thumbnail & title"]}),e.jsxs("li",{children:["•"," ",t.retentionRate>50?"Good":"Needs improvement on"," ","audience retention"]})]})]})]})})]})})]})}function Ze({title:s,value:t,subtitle:n}){return e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsx("h4",{className:"mb-1 text-sm font-medium text-muted-foreground",children:s}),e.jsx("p",{className:"text-2xl font-bold",children:t}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:n})]})}function ds(s,t){return Math.floor(Math.random()*(t-s+1)+s)}function Da(){const[s,t]=Z.useState("calendar"),[n,a]=Z.useState(J(new Date,"yyyy-MM-dd")),c=Ea(),h=Fa(),m=new Date(n),f=Array.from({length:7},(d,j)=>Xe(m,j)),y=d=>c.filter(j=>J(new Date(j.scheduledDate),"yyyy-MM-dd")===J(d,"yyyy-MM-dd"));return e.jsxs(T,{className:"w-full",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex flex-col items-start justify-between gap-2 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx(O,{children:"Content Planner"}),e.jsx(me,{children:"Schedule and plan your upcoming YouTube content"})]}),e.jsxs(G,{children:[e.jsx(cs,{className:"mr-2 h-4 w-4"})," Create Content"]})]})}),e.jsx(k,{className:"p-0 pt-2",children:e.jsxs(ge,{defaultValue:"calendar",value:s,onValueChange:t,className:"px-6",children:[e.jsxs(fe,{className:"mb-4",children:[e.jsxs(F,{value:"calendar",children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"})," Calendar View"]}),e.jsxs(F,{value:"list",children:[e.jsx(Ot,{className:"mr-2 h-4 w-4"})," List View"]}),e.jsxs(F,{value:"ideas",children:[e.jsx(Ns,{className:"mr-2 h-4 w-4"})," Content Ideas"]})]}),e.jsxs(V,{value:"calendar",className:"pb-4 pt-2",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium",children:["Week of ",J(m,"MMM d, yyyy")]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{variant:"outline",size:"sm",onClick:()=>{const d=Xe(m,-7);a(J(d,"yyyy-MM-dd"))},children:"Previous Week"}),e.jsx(G,{variant:"outline",size:"sm",onClick:()=>{const d=Xe(m,7);a(J(d,"yyyy-MM-dd"))},children:"Next Week"})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[f.map(d=>e.jsxs("div",{className:"p-2 text-center text-sm font-medium",children:[e.jsx("div",{children:J(d,"EEE")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:J(d,"MMM d")})]},`header-${J(d,"yyyy-MM-dd")}`)),f.map(d=>{const j=y(d),o=J(d,"yyyy-MM-dd")===J(new Date,"yyyy-MM-dd");return e.jsx("div",{className:`min-h-[150px] rounded-md border p-2 ${o?"border-primary/50 bg-primary/5":""}`,children:j.length>0?e.jsx("div",{className:"space-y-2",children:j.map(l=>e.jsxs("div",{className:`cursor-pointer rounded-md p-2 text-xs ${l.status==="draft"?"border-orange-200 bg-orange-100":l.status==="scheduled"?"border-blue-200 bg-blue-100":"border-green-200 bg-green-100"} ${l.contentType==="short"?"border-l-[3px] border-l-red-500":"border-l-[3px] border-l-blue-500"} `,children:[e.jsx("div",{className:"line-clamp-2 font-medium",children:l.title}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[e.jsx(E,{variant:"outline",className:"text-[10px]",children:l.contentType==="short"?"SHORT":"VIDEO"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"mr-1 h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:J(new Date(l.scheduledDate),"h:mm a")})]})]})]},l.id))}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsxs(G,{variant:"ghost",size:"sm",className:"h-8 text-xs text-muted-foreground",children:[e.jsx(cs,{className:"mr-1 h-3 w-3"})," Add"]})})},`cell-${J(d,"yyyy-MM-dd")}`)})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-sm border border-orange-200 bg-orange-100"}),e.jsx("span",{className:"text-xs",children:"Draft"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-sm border border-blue-200 bg-blue-100"}),e.jsx("span",{className:"text-xs",children:"Scheduled"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-sm border border-green-200 bg-green-100"}),e.jsx("span",{className:"text-xs",children:"Published"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 border-l-[3px] border-l-red-500"}),e.jsx("span",{className:"text-xs",children:"Short"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 border-l-[3px] border-l-blue-500"}),e.jsx("span",{className:"text-xs",children:"Long-form"})]})]})]})]}),e.jsxs(V,{value:"list",className:"pb-4 pt-2",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Content Schedule"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ve,{defaultValue:"all",children:[e.jsx(ye,{className:"w-[150px]",children:e.jsx(be,{placeholder:"Filter by status"})}),e.jsxs(Ne,{children:[e.jsx(I,{value:"all",children:"All Status"}),e.jsx(I,{value:"draft",children:"Draft"}),e.jsx(I,{value:"scheduled",children:"Scheduled"}),e.jsx(I,{value:"published",children:"Published"})]})]}),e.jsxs(ve,{defaultValue:"all",children:[e.jsx(ye,{className:"w-[150px]",children:e.jsx(be,{placeholder:"Filter by type"})}),e.jsxs(Ne,{children:[e.jsx(I,{value:"all",children:"All Types"}),e.jsx(I,{value:"short",children:"Shorts"}),e.jsx(I,{value:"long",children:"Long-form"})]})]})]})]}),e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs(Is,{children:[e.jsx(Vs,{children:e.jsxs(ss,{children:[e.jsx(te,{className:"w-[250px]",children:"Title"}),e.jsx(te,{children:"Type"}),e.jsx(te,{children:"Status"}),e.jsx(te,{children:"Scheduled Date"}),e.jsx(te,{children:"Est. Views"}),e.jsx(te,{children:"Tags"}),e.jsx(te,{className:"text-right",children:"Actions"})]})}),e.jsx(Ls,{children:c.map(d=>e.jsxs(ss,{children:[e.jsx(ae,{children:e.jsx("div",{className:"line-clamp-1 font-medium",children:d.title})}),e.jsx(ae,{children:e.jsx(E,{variant:d.contentType==="short"?"destructive":"secondary",children:d.contentType==="short"?"Short":"Long-form"})}),e.jsx(ae,{children:e.jsx(E,{variant:d.status==="draft"?"outline":d.status==="scheduled"?"secondary":"default",children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})}),e.jsx(ae,{children:J(new Date(d.scheduledDate),"MMM d, yyyy h:mm a")}),e.jsx(ae,{children:d.estimatedViews.toLocaleString()}),e.jsx(ae,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.tags.slice(0,2).map((j,o)=>e.jsx(E,{variant:"outline",className:"text-xs",children:j},o)),d.tags.length>2&&e.jsxs(E,{variant:"outline",className:"text-xs",children:["+",d.tags.length-2]})]})}),e.jsx(ae,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(G,{size:"sm",variant:"ghost",children:e.jsx(lt,{className:"h-4 w-4"})}),e.jsx(G,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-700",children:e.jsx(Lt,{className:"h-4 w-4"})})]})})]},d.id))})]})})]}),e.jsxs(V,{value:"ideas",className:"pb-4 pt-2",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Content Ideas"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ve,{defaultValue:"popular",children:[e.jsx(ye,{className:"w-[150px]",children:e.jsx(be,{placeholder:"Sort by"})}),e.jsxs(Ne,{children:[e.jsx(I,{value:"popular",children:"Most Popular"}),e.jsx(I,{value:"recent",children:"Most Recent"}),e.jsx(I,{value:"potential",children:"Highest Potential"})]})]}),e.jsxs(G,{size:"sm",children:[e.jsx(cs,{className:"mr-2 h-4 w-4"})," Add Idea"]})]})]}),e.jsx("div",{className:"space-y-4",children:h.map(d=>e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:d.title}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(E,{variant:d.contentType==="short"?"destructive":"secondary",children:d.contentType==="short"?"Short":"Long-form"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ns,{className:"mr-1 h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Potential score:"," ",e.jsxs("span",{className:"font-medium",children:[d.potentialScore,"/100"]})]})]})]})]}),e.jsxs(G,{size:"sm",variant:"outline",children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"})," Schedule"]})]}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:d.description}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:d.tags.map((j,o)=>e.jsx(E,{variant:"outline",className:"text-xs",children:j},o))})]},d.id))})]})]})}),e.jsx(ps,{className:"border-t px-6 py-4",children:e.jsxs(G,{variant:"outline",className:"ml-auto",children:["Content Strategy Guide ",e.jsx(Gs,{className:"ml-1 h-4 w-4"})]})})]})}function Ea(){const s=[],t=new Date,n=["draft","scheduled","published"],a=["short","long"];for(let c=-3;c<=10;c++){const h=r.number.int({min:0,max:2}),m=Xe(t,c);for(let f=0;f<h;f++){const y=r.helpers.arrayElement(a),d=c<0?"published":r.helpers.arrayElement(n),j=r.number.int({min:9,max:19}),o=r.helpers.arrayElement([0,15,30,45]);m.setHours(j,o,0,0);const l=new Date(m);s.push({id:r.string.uuid(),title:Js(y),contentType:y,status:d,scheduledDate:l.toISOString(),tags:Array.from({length:r.number.int({min:2,max:5})},()=>r.helpers.arrayElement(["growth","tutorial","tips","strategy","review","algorithm","monetization","trending","viral","howto","shorts","beginners"])),estimatedViews:y==="short"?r.number.int({min:5e3,max:5e5}):r.number.int({min:1e3,max:5e4}),notes:r.lorem.sentence()})}}return s.sort((c,h)=>new Date(c.scheduledDate).getTime()-new Date(h.scheduledDate).getTime())}function Fa(){const s=[],t=["short","long"];for(let n=0;n<5;n++){const a=r.helpers.arrayElement(t);s.push({id:r.string.uuid(),title:Js(a),contentType:a,description:r.lorem.paragraph(),potentialScore:r.number.int({min:55,max:95}),tags:Array.from({length:r.number.int({min:2,max:5})},()=>r.helpers.arrayElement(["growth","tutorial","tips","strategy","review","algorithm","monetization","trending","viral","howto","shorts","beginners"]))})}return s.sort((n,a)=>a.potentialScore-n.potentialScore)}function Js(s){const t={short:["I can't believe this happened! 😱","You won't believe what I found 🔥","This trick changed everything 🚀","Watch this before it's too late 🔴","How to {verb} in under 60 seconds","{number} ways to {verb} your {noun}","POV: When you {verb} but {situation}","The REAL way to {verb} 🤯","No one is talking about this {topic} trick"],long:["How I {verb} My {noun} in {number} Days (Complete Guide)","The Ultimate Guide to {topic} in 2025","{number} Things Nobody Tells You About {topic}","I Tried {topic} For 30 Days - Here's What Happened","{topic} Masterclass | From Beginner to Pro","How to {verb} Like a Pro (Step-by-Step Tutorial)","The Truth About {topic} That No One Tells You","We Need to Talk About {topic}...","{topic} Review: Is It Really Worth It in 2025?"]},n=s==="short"?t.short:t.long;let a=r.helpers.arrayElement(n);return a.includes("{verb}")&&(a=a.replace("{verb}",r.helpers.arrayElement(["master","optimize","improve","grow","build","learn","create","transform","boost"]))),a.includes("{noun}")&&(a=a.replace("{noun}",r.helpers.arrayElement(["channel","business","skills","workflow","productivity","content","portfolio","strategy"]))),a.includes("{topic}")&&(a=a.replace("{topic}",r.helpers.arrayElement(["YouTube Growth","Content Creation","Digital Marketing","SEO","Social Media Strategy","Video Editing","Passive Income","Monetization","Algorithm Hacks"]))),a.includes("{number}")&&(a=a.replace("{number}",r.helpers.arrayElement(["3","5","7","10","12"]))),a.includes("{situation}")&&(a=a.replace("{situation}",r.helpers.arrayElement(["it fails","nobody cares","everyone laughs","it actually works","you're doing it wrong"]))),a}const Oa=async(s="all",t="week")=>{await new Promise(c=>setTimeout(c,800));const n=Ba();return s==="all"?n:n.filter(c=>c.category.includes(s))},$a=async(s="all")=>(await new Promise(t=>setTimeout(t,1e3)),Ha(s));function Ia(){var P,u,p,S;const[s,t]=Z.useState("all"),[n,a]=Z.useState("week"),[c,h]=Z.useState("topics"),{data:m,isLoading:f,error:y}=pe({queryKey:["trendingTopics",s,n],queryFn:()=>Oa(s,n)}),{data:d,isLoading:j,error:o}=pe({queryKey:["trendingVideos",s],queryFn:()=>$a(s)}),l=["#4f46e5","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899"],v=m?m.reduce((i,x)=>(x.category.forEach(g=>{i[g]||(i[g]=0),i[g]+=1}),i),{}):{},C=Object.entries(v).map(([i,x])=>({name:i,value:x})).sort((i,x)=>x.value-i.value);return e.jsxs(T,{className:"w-full",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex flex-col items-start justify-between gap-2 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx(O,{children:"Trending Topics"}),e.jsx(me,{children:"Discover trending topics and content ideas for YouTube"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ve,{defaultValue:n,onValueChange:a,children:[e.jsx(ye,{className:"w-[150px]",children:e.jsx(be,{placeholder:"Time frame"})}),e.jsxs(Ne,{children:[e.jsx(I,{value:"week",children:"This Week"}),e.jsx(I,{value:"month",children:"This Month"}),e.jsx(I,{value:"quarter",children:"This Quarter"})]})]}),e.jsxs(ve,{defaultValue:s,onValueChange:t,children:[e.jsx(ye,{className:"w-[150px]",children:e.jsx(be,{placeholder:"Category"})}),e.jsxs(Ne,{children:[e.jsx(I,{value:"all",children:"All Categories"}),e.jsx(I,{value:"technology",children:"Technology"}),e.jsx(I,{value:"business",children:"Business"}),e.jsx(I,{value:"entertainment",children:"Entertainment"}),e.jsx(I,{value:"education",children:"Education"}),e.jsx(I,{value:"lifestyle",children:"Lifestyle"}),e.jsx(I,{value:"gaming",children:"Gaming"})]})]})]})]})}),e.jsx(k,{children:e.jsxs(ge,{defaultValue:"topics",value:c,onValueChange:h,children:[e.jsxs(fe,{className:"mb-4",children:[e.jsxs(F,{value:"topics",children:[e.jsx(ns,{className:"mr-2 h-4 w-4"})," Trending Topics"]}),e.jsxs(F,{value:"videos",children:[e.jsx($t,{className:"mr-2 h-4 w-4"})," Trending Videos"]}),e.jsxs(F,{value:"insights",children:[e.jsx(Be,{className:"mr-2 h-4 w-4"})," Insights"]})]}),e.jsx(V,{value:"topics",className:"space-y-4",children:f?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(Re,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):y?e.jsxs(we,{variant:"destructive",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx(Se,{children:"Error"}),e.jsx(Te,{children:"Failed to load trending topics. Please try again."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs(Is,{children:[e.jsx(Vs,{children:e.jsxs(ss,{children:[e.jsx(te,{className:"w-[200px]",children:"Topic"}),e.jsx(te,{children:"Growth"}),e.jsx(te,{children:"Volume"}),e.jsx(te,{children:"Competition"}),e.jsx(te,{children:"Recommended Format"}),e.jsx(te,{children:"Category"}),e.jsx(te,{className:"text-right",children:"Actions"})]})}),e.jsx(Ls,{children:m.map(i=>e.jsxs(ss,{children:[e.jsx(ae,{className:"font-medium",children:i.topic}),e.jsx(ae,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`mr-2 ${i.growthRate>0?"text-green-600":"text-red-600"}`,children:[i.growthRate>0?"+":"",i.growthRate,"%"]}),e.jsx("div",{className:`h-1.5 w-16 rounded-full ${i.growthRate>75?"bg-green-500":i.growthRate>30?"bg-emerald-400":i.growthRate>10?"bg-amber-500":i.growthRate>0?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(64,Math.abs(i.growthRate)/2)}px`}})]})}),e.jsx(ae,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-1.5 w-16 rounded-full bg-gray-200",children:e.jsx("div",{className:"h-1.5 rounded-full bg-blue-600",style:{width:`${i.volumeScore}%`}})}),e.jsxs("span",{className:"ml-2 text-xs",children:[i.volumeScore,"/100"]})]})}),e.jsx(ae,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-1.5 w-16 rounded-full bg-gray-200",children:e.jsx("div",{className:`h-1.5 rounded-full ${i.competition>75?"bg-red-500":i.competition>50?"bg-orange-500":i.competition>25?"bg-yellow-500":"bg-green-500"}`,style:{width:`${i.competition}%`}})}),e.jsxs("span",{className:"ml-2 text-xs",children:[i.competition,"/100"]})]})}),e.jsx(ae,{children:e.jsx(E,{variant:i.recommendedFormat==="short"?"destructive":i.recommendedFormat==="long"?"secondary":"default",children:i.recommendedFormat==="short"?"Short":i.recommendedFormat==="long"?"Long-form":"Both"})}),e.jsx(ae,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.category.slice(0,2).map((x,g)=>e.jsx(E,{variant:"outline",className:"text-xs capitalize",children:x},g)),i.category.length>2&&e.jsxs(E,{variant:"outline",className:"text-xs",children:["+",i.category.length-2]})]})}),e.jsx(ae,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(G,{size:"sm",variant:"outline",children:[e.jsx(Rt,{className:"mr-1 h-4 w-4"})," Add to Ideas"]}),e.jsx(G,{size:"sm",variant:"ghost",children:e.jsx(Fe,{className:"h-4 w-4"})}),e.jsx(G,{size:"sm",variant:"ghost",children:e.jsx(Zs,{className:"h-4 w-4"})})]})})]},i.topic))})]})}),e.jsxs("div",{className:"rounded-md bg-muted p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Topic Insights"})]}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:[s==="all"?"Overall trends show":`${s} category trends show`," ","a"," ",((P=m[0])==null?void 0:P.growthRate)>50?"significant":"moderate"," ","growth in topics related to"," ",(u=m[0])==null?void 0:u.topic.split(" ")[0]," and"," ",(p=m[1])==null?void 0:p.topic.split(" ")[0],". Consider creating"," ",m.filter(i=>i.recommendedFormat==="short").length>m.length/2?"more short-form":"a mix of short and long-form"," ","content."]})]})]})}),e.jsx(V,{value:"videos",className:"space-y-4",children:j?e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((i,x)=>e.jsx("div",{className:"rounded-md border p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{className:"h-20 w-36"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(M,{className:"h-4 w-full"}),e.jsx(M,{className:"h-4 w-2/3"}),e.jsxs("div",{className:"mt-1 flex gap-2",children:[e.jsx(M,{className:"h-4 w-12"}),e.jsx(M,{className:"h-4 w-12"})]})]})]})},x))}):o?e.jsxs(we,{variant:"destructive",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx(Se,{children:"Error"}),e.jsx(Te,{children:"Failed to load trending videos. Please try again."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:d.map(i=>e.jsx("div",{className:"rounded-md border p-4 transition-colors hover:bg-muted/50",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-md bg-muted",children:[e.jsx("img",{src:`https://i.ytimg.com/vi/${i.id}/mqdefault.jpg`,alt:i.title,className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute bottom-2 right-2 rounded bg-black/80 px-1.5 py-0.5 text-xs text-white",children:[Va(i.views)," views"]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"line-clamp-2 font-medium",children:i.title}),e.jsxs("div",{className:"mt-1 flex items-center text-sm text-muted-foreground",children:[e.jsx("span",{children:i.channel}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{children:Es(i.publishedAt)})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsxs(E,{variant:"secondary",children:[i.engagement,"% engagement"]}),i.tags.slice(0,3).map((x,g)=>e.jsx(E,{variant:"outline",className:"text-xs",children:x},g))]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsxs(G,{size:"sm",variant:"outline",children:[e.jsx(Ts,{className:"mr-2 h-4 w-4"})," Watch"]}),e.jsxs(G,{size:"sm",variant:"outline",children:[e.jsx(ct,{className:"mr-2 h-4 w-4"})," Save Idea"]})]})]})]})},i.id))}),e.jsxs("div",{className:"rounded-md bg-muted p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Video Insights"})]}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Trending videos in"," ",s==="all"?"all categories":`the ${s} category`," ","average"," ",La(d.reduce((i,x)=>i+x.views,0)/d.length)," ","views with"," ",(d.reduce((i,x)=>i+x.engagement,0)/d.length).toFixed(1),"% engagement. The most common tags include:"," ",Fs(d).join(", "),"."]})]})]})}),e.jsxs(V,{value:"insights",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Topic Growth Rate"}),e.jsx("div",{className:"h-72 rounded-md border bg-white p-4",children:f?e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(Re,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(re,{data:m==null?void 0:m.slice(0,6).map(i=>({name:i.topic.length>15?i.topic.substring(0,15)+"...":i.topic,growth:i.growthRate})),layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3",horizontal:!1}),e.jsx(Y,{type:"number"}),e.jsx(_,{dataKey:"name",type:"category",tick:{fontSize:12},width:130}),e.jsx(z,{formatter:i=>[`${i}%`,"Growth"]}),e.jsx(B,{dataKey:"growth",fill:"#4f46e5",radius:[0,3,3,0],children:m==null?void 0:m.slice(0,6).map((i,x)=>e.jsx(ee,{fill:l[x%l.length]},`cell-${x}`))})]})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Category Distribution"}),e.jsx("div",{className:"h-72 rounded-md border bg-white p-4",children:f?e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(Re,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(re,{data:C,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3",horizontal:!1}),e.jsx(Y,{type:"number"}),e.jsx(_,{dataKey:"name",type:"category",tick:{fontSize:12},width:90}),e.jsx(z,{formatter:i=>[`${i} topics`,"Count"]}),e.jsx(B,{dataKey:"value",fill:"#8884d8",radius:[0,3,3,0],children:C.map((i,x)=>e.jsx(ee,{fill:l[x%l.length]},`cell-${x}`))})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Top Format"}),e.jsx("p",{className:"mt-1 text-2xl font-bold",children:f?e.jsx(M,{className:"h-8 w-24"}):ms(m||[])})]}),e.jsx(E,{variant:"outline",children:f?e.jsx(M,{className:"h-4 w-16"}):`${Ka(m||[])}%`})]}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:f?e.jsx(M,{className:"h-3 w-full"}):ms(m||[])==="Short-form"?"Shorts are trending. Consider creating more vertical content.":"Long-form content is performing well. Focus on quality tutorials and guides."})]}),e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Avg Competition"}),e.jsx("p",{className:"mt-1 text-2xl font-bold",children:f?e.jsx(M,{className:"h-8 w-24"}):`${Ae(m||[])}/100`})]}),e.jsx(E,{variant:Ae(m||[])>75?"destructive":Ae(m||[])>50?"secondary":"default",children:f?e.jsx(M,{className:"h-4 w-16"}):za(Ae(m||[]))})]}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:f?e.jsx(M,{className:"h-3 w-full"}):Ae(m||[])>70?"High competition. Focus on unique angles and quality.":Ae(m||[])>40?"Moderate competition. Balance trending with unique value.":"Low competition. Great opportunity to establish authority."})]}),e.jsxs("div",{className:"rounded-md border bg-card p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Growth Potential"}),e.jsx("p",{className:"mt-1 text-2xl font-bold",children:f?e.jsx(M,{className:"h-8 w-24"}):`${Ce(m||[]).toFixed(1)}%`})]}),e.jsx(E,{variant:Ce(m||[])>40?"default":Ce(m||[])>15?"secondary":"outline",children:f?e.jsx(M,{className:"h-4 w-16"}):Ga(Ce(m||[]))})]}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:f?e.jsx(M,{className:"h-3 w-full"}):Ce(m||[])>40?"Explosive growth. Act quickly to capitalize on these trends.":Ce(m||[])>15?"Strong growth. Good opportunity for content creation.":"Stable growth. Monitor these topics for future potential."})]})]}),e.jsxs("div",{className:"rounded-md bg-muted p-4",children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Strategic Recommendations"}),f?e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"h-4 w-full"}),e.jsx(M,{className:"h-4 w-full"}),e.jsx(M,{className:"h-4 w-4/5"})]}):e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:["• Focus on"," ",ms(m||[])==="Short-form"?"creating short-form content":"developing in-depth long-form videos"," ","to align with current trends."]}),e.jsx("li",{children:"• Target keywords with moderate competition (40-60 score) for the best balance of opportunity and reach."}),e.jsxs("li",{children:['• Consider creating content around "',(S=m==null?void 0:m[0])==null?void 0:S.topic,'" which shows the highest growth potential.']}),e.jsxs("li",{children:["• Use tags like"," ",Fs(d||[]).slice(0,3).map(i=>`"${i}"`).join(", ")," ","to improve discoverability."]}),e.jsxs("li",{children:["• The ",_a(m||[])," ","category shows the strongest growth. Consider pivoting more content in this direction."]})]})]})]})]})}),e.jsxs(ps,{className:"border-t px-6 py-4",children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Data updated ",Es(new Date().toISOString())]}),e.jsxs(G,{variant:"outline",className:"ml-auto",children:["Export Report ",e.jsx(Ts,{className:"ml-2 h-4 w-4"})]})]})]})}function Va(s){return s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString()}function La(s){return new Intl.NumberFormat().format(s)}function Es(s){const t=new Date(s),a=Math.abs(new Date().getTime()-t.getTime()),c=Math.ceil(a/(1e3*60*60*24));return c<=1?"Today":c<=2?"Yesterday":c<=7?`${c} days ago`:t.toLocaleDateString()}function Fs(s){const t={};return s.forEach(n=>{n.tags.forEach(a=>{t[a]=(t[a]||0)+1})}),Object.entries(t).sort((n,a)=>a[1]-n[1]).slice(0,5).map(([n])=>n)}function ms(s){const t=s.reduce((n,a)=>((a.recommendedFormat==="both"?["short","long"]:[a.recommendedFormat]).forEach(h=>{n[h]=(n[h]||0)+1}),n),{});return t.short>t.long?"Short-form":"Long-form"}function Ka(s){const t=s.reduce((a,c)=>((c.recommendedFormat==="both"?["short","long"]:[c.recommendedFormat]).forEach(m=>{a[m]=(a[m]||0)+1}),a),{}),n=(t.short||0)+(t.long||0);return t.short>=t.long?Math.round(t.short/n*100):Math.round(t.long/n*100)}function Ae(s){if(!s.length)return 0;const t=s.reduce((n,a)=>n+a.competition,0);return Math.round(t/s.length)}function za(s){return s>75?"High":s>50?"Moderate":s>25?"Low":"Very Low"}function Ce(s){return s.length?s.reduce((n,a)=>n+a.growthRate,0)/s.length:0}function Ga(s){return s>50?"Explosive":s>30?"High":s>10?"Moderate":"Stable"}function _a(s){if(!s.length)return"technology";const t={};s.forEach(c=>{c.category.forEach(h=>{t[h]||(t[h]={total:0,count:0}),t[h].total+=c.growthRate,t[h].count+=1})});let n=0,a="technology";return Object.entries(t).forEach(([c,{total:h,count:m}])=>{const f=h/m;f>n&&(n=f,a=c)}),a}function Ba(){const s=["technology","business","entertainment","education","lifestyle","gaming"],t=["AI Content Creation","Passive Income Strategies","YouTube SEO Hacks","Short-form Storytelling","Video Editing Automation","Algorithm Exploits","Viral Marketing Techniques","Monetization Strategies","Thumbnail Psychology","Creator Burnout Prevention","Multi-platform Growth","Content Repurposing","Community Building","Channel Analytics Mastery","Brand Deals & Sponsorships"],n=["short","long","both"];return r.helpers.shuffle(t).map(a=>{const c=r.helpers.arrayElements(s,r.number.int({min:1,max:3}));return{topic:a,growthRate:r.number.int({min:-5,max:120}),volumeScore:r.number.int({min:20,max:95}),competition:r.number.int({min:15,max:90}),relevanceScore:r.number.int({min:50,max:100}),recommendedFormat:r.helpers.arrayElement(n),category:c}}).sort((a,c)=>c.growthRate-a.growthRate)}function Ha(s="all"){const t=["How I","Why","The Ultimate Guide to","10 Ways to","I Tried","Review:"],n=["Growing on YouTube","Content Creation Strategy","Passive Income","Video Editing","Algorithm Hacks","Channel Growth","Monetization Strategies","Viral Marketing","Creator Economy","Social Media Growth"],a=["CreatorInsights","TechTutorialsHQ","MarketingMasters","ViralContentLab","DigitalNomadLife","TheStrategyGuru","CreativeEcosystem","GrowthHackersTV","StartupSuccess","BusinessBuildersHQ"],c=["youtube growth","content creation","passive income","algorithm","monetization","viral","marketing","creator economy","shorts","strategy","tutorial","howto","growth hacking"],h=[];for(let m=0;m<10;m++){const f=r.date.recent({days:30}),y=r.helpers.arrayElement(t),d=r.helpers.arrayElement(n);let j=r.helpers.arrayElements(c,r.number.int({min:3,max:6}));s!=="all"&&(j=[s,...j].slice(0,5)),h.push({id:r.string.alphanumeric(11),title:`${y} ${d} in 2025 (${r.helpers.arrayElement(["Game Changer","Mind Blowing","Revolutionary","Must Watch"])})`,channel:r.helpers.arrayElement(a),views:r.number.int({min:1e4,max:5e6}),publishedAt:f.toISOString(),engagement:parseFloat(r.number.float({min:2,max:12,precision:.1}).toFixed(1)),tags:j})}return h.sort((m,f)=>f.views-m.views)}function Wa({video:s,onAnalyze:t}){return e.jsxs(T,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.snippet.thumbnails.medium.url,alt:s.snippet.channelTitle,className:"aspect-video w-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 right-2 rounded bg-black/80 px-1.5 py-0.5 text-xs text-white",children:s.contentDetails.duration})]}),e.jsxs(k,{className:"p-4",children:[e.jsx("h3",{className:"mb-2 line-clamp-2 font-medium",title:s.snippet.title,children:s.snippet.title}),e.jsxs("div",{className:"mb-3 flex items-center text-sm text-muted-foreground",children:[e.jsx(vs,{className:"mr-1 h-3.5 w-3.5"}),e.jsxs("span",{children:["Posted"," ",Ks(new Date(s.snippet.publishedAt),{addSuffix:!0})]})]}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.statistics.viewCount})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ut,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.statistics.likeCount})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.statistics.commentCount})]})]}),(()=>{const n=(Number(s.statistics.likeCount)+Number(s.statistics.commentCount)/Number(s.statistics.viewCount)*100).toFixed(1);return e.jsxs("div",{className:"mt-2 flex items-center text-xs",children:[e.jsx("span",{className:"mr-1 text-muted-foreground",children:"Engagement:"}),e.jsxs(E,{variant:parseFloat(n)>5?"default":parseFloat(n)>2?"secondary":"outline",children:[n,"%"]})]})})()]}),e.jsxs(ps,{className:"flex gap-2 px-4 pb-4 pt-0",children:[e.jsxs(G,{variant:"default",size:"sm",className:"flex-1",onClick:()=>t==null?void 0:t(s),children:[e.jsx(Be,{className:"mr-2 h-4 w-4"})," Analyze"]}),e.jsxs(G,{variant:"secondary",size:"sm",className:"flex-1",children:[e.jsx(pt,{className:"mr-2 h-4 w-4"})," Boost"]}),e.jsxs(G,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Et,{className:"mr-2 h-4 w-4"})," Report"]})]})]})}function Ya({onVideoSelect:s,YoutubeData:t,isLoading:n,isRefetching:a,error:c,refetch:h}){const[m,f]=Z.useState("all"),[y,d]=Z.useState(1),o=t?Math.ceil((t==null?void 0:t.length)/9):0,l=v=>{d(v),window.scrollTo({top:0,behavior:"smooth"})};return console.log("youtubeData",t),n?e.jsxs(T,{children:[e.jsxs(D,{children:[e.jsx(O,{children:"YouTube Videos"}),e.jsx(me,{children:"Loading your channel videos..."})]}),e.jsx(k,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((v,C)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"aspect-video w-full"}),e.jsx(M,{className:"h-4 w-4/5"}),e.jsx(M,{className:"h-4 w-3/5"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{className:"h-8 w-full"}),e.jsx(M,{className:"h-8 w-full"})]})]},C))})})]}):c?e.jsxs(we,{variant:"destructive",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx(Se,{children:"Error"}),e.jsx(Te,{children:"Failed to load YouTube videos. Please try again later."})]}):(console.log("error",c),e.jsxs(T,{children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(O,{children:"YouTube Videos"}),e.jsx(me,{children:"Manage and analyze your YouTube channel videos"})]}),e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>h(),disabled:a,children:[a?e.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(gs,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})}),e.jsx(k,{className:"space-y-6",children:e.jsxs(ge,{defaultValue:"all",value:m,onValueChange:f,className:"mb-4",children:[e.jsxs(fe,{children:[e.jsx(F,{value:"all",children:"All Videos"}),e.jsx(F,{value:"short",children:"Shorts"}),e.jsx(F,{value:"long",children:"Long-form"})]}),e.jsxs(V,{value:m,className:"mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t==null?void 0:t.map(v=>e.jsx(Wa,{video:v,onAnalyze:()=>s==null?void 0:s(v)},v.id)),(t==null?void 0:t.length)===0&&e.jsxs("div",{className:"col-span-full py-8 text-center text-muted-foreground",children:["No ",m!=="all"?m+" ":"","videos found."]})]}),o>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(ot,{children:e.jsxs(dt,{children:[e.jsx(ce,{children:e.jsx(mt,{onClick:()=>y>1&&l(y-1),className:y===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(o,5)},(v,C)=>{let P;if(o<=5)P=C+1;else if(y<=3)if(C<4)P=C+1;else return e.jsx(ce,{children:e.jsx(We,{})},"ellipsis-end");else if(y>=o-2){if(C===0)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{children:e.jsx(Ye,{onClick:()=>l(1),children:"1"})},"page-1"),e.jsx(ce,{children:e.jsx(We,{})},"ellipsis-start")]});P=o-(4-C)}else{if(C===0)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{children:e.jsx(Ye,{onClick:()=>l(1),children:"1"})},"page-1"),e.jsx(ce,{children:e.jsx(We,{})},"ellipsis-start")]});if(C===4)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{children:e.jsx(We,{})},"ellipsis-end"),e.jsx(ce,{children:e.jsx(Ye,{onClick:()=>l(o),children:o})},`page-${o}`)]});P=y+(C-2)}return P?e.jsx(ce,{children:e.jsx(Ye,{onClick:()=>l(P),isActive:y===P,children:P})},`page-${P}`):null}),e.jsx(ce,{children:e.jsx(ht,{onClick:()=>y<o&&l(y+1),className:y===o?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})]})})]}))}function Ua(){const[s,t]=Z.useState("videos"),[n,a]=Z.useState(null),[c,h]=Z.useState(""),m=typeof window<"u"?localStorage.getItem("accessToken"):null,{data:f,refetch:y}=ca({refreshToken:localStorage.getItem("refreshToken")},{enabled:!1}),d=Xs(m);console.log("access",m),console.log("ref",d);const{data:j,isLoading:o,isRefetching:l,refetch:v,error:C}=oa(m?{accessToken:m,maxResults:10,type:"Short"}:{accessToken:"",maxResults:0,type:""},{enabled:!!m&&!d,onSuccess(i){h(i==null?void 0:i.videos[0].snippet.channelId)}});Z.useEffect(()=>{m&&v()},[m]);const P=i=>{a(i),t("insights")},u=et();Z.useEffect(()=>{const i=localStorage.getItem("refreshToken"),x=localStorage.getItem("accessToken");i&&(!x||p(x))&&y().then(g=>{var b;(b=g.data)!=null&&b.access_token&&(localStorage.setItem("accessToken",g.data.access_token),console.log("Access token refreshed successfully"))}).catch(g=>{console.error("Failed to refresh access token:",g)})},[u.pathname]);const p=i=>{try{const x=i.split(".");if(x.length<2)return!0;const b=JSON.parse(atob(x[1])).exp*1e3;return Date.now()>=b}catch(x){return console.error("Error checking token expiration:",x),!0}},S=async()=>{try{window.location.href="https://accounts.google.com/o/oauth2/v2/auth?client_id=850335973915-eaf0q12k9i8obkikv4fu3se5q90901e2.apps.googleusercontent.com&redirect_uri=http://localhost:5173/oauth2callback&response_type=code&scope=https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/yt-analytics.readonly&access_type=offline&prompt=consent&service=lso&o2v=2&flowName=GeneralOAuthFlow";const i=new URLSearchParams(u.search);console.log("client_id",i.get("client_id"))}catch(i){console.error("Error fetching YouTube auth URL:",i)}};return console.log("youtubeData",j),console.log("channel id",c),e.jsxs(e.Fragment,{children:[e.jsx(tt,{children:e.jsxs("div",{className:"flex flex-1 items-center space-x-4",children:[e.jsx(at,{}),e.jsx(rt,{}),e.jsx(nt,{})]})}),e.jsxs(it,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"YouTube Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor performance, optimize content, and grow your YouTube channel"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(G,{variant:"outline",children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"}),"Last 30 Days"]}),e.jsx(G,{variant:"default",onClick:S,children:"Connect Channel"})]})]}),e.jsxs(ge,{value:s,onValueChange:t,className:"w-full",children:[e.jsxs(fe,{children:[e.jsxs(F,{value:"videos",className:"flex items-center",children:[e.jsx(Dt,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Videos"})]}),e.jsxs(F,{value:"insights",className:"flex items-center",children:[e.jsx(Be,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Insights"})]}),e.jsxs(F,{value:"strategy",className:"flex items-center",children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Strategy"})]}),e.jsxs(F,{value:"analytics",className:"flex items-center",children:[e.jsx(gt,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Analytics"})]})]}),e.jsx(V,{value:"videos",className:"space-y-6",children:e.jsx(Ya,{onVideoSelect:P,YoutubeData:j==null?void 0:j.videos,refetch:v,isLoading:o,isRefetching:l,error:C})}),e.jsx(V,{value:"insights",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6",children:n?e.jsx(Ra,{videoId:n.id}):e.jsx(ka,{})})}),e.jsx(V,{value:"strategy",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx(Da,{}),e.jsx(Ia,{})]})}),e.jsx(V,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsx(T,{className:"w-full",children:e.jsx(k,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("audience"))==null?void 0:i.scrollIntoView({behavior:"smooth"})},className:"flex items-center",children:[e.jsx(ts,{className:"mr-2 h-4 w-4"}),"Audience"]}),e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("revenue"))==null?void 0:i.scrollIntoView({behavior:"smooth"})},className:"flex items-center",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Revenue"]})]})})}),e.jsx("div",{id:"audience",children:e.jsx(ua,{})}),e.jsx("div",{id:"revenue",className:"pt-4",children:e.jsx(fa,{})})]})})]})]})]})}const vr=st("/_authenticated/social-media/youtube/")({component:Ua});export{vr as Route};
