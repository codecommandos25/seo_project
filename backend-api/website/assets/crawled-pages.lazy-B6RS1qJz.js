import{j as e,d as c,D as _,x as T,B as d,y as I,E as w,H as M,s as f,J as D,K as L,M as H,O as z,Q as K,R as v,T as b,U as A,V as E,W as U,X as O,I as G,r as x,Y as B,c as q}from"./index-By8YJrdC.js";import{j as $}from"./index-CDWW3x1E.js";import{H as J,S as Q,T as W,P as X,M as Y}from"./theme-switch-BY8tNAc1.js";import{A as y,a as S,C as Z,E as ee,b as k,L as p,D as se,c as ae,d as te,e as le,P as re,f as ne,M as ie,g as oe,u as ce,h as P,i as de,j as xe,k as me,l as ge,m as he,n as ue,o as je}from"./use-dialog-state-72z18lxP.js";import{C as pe}from"./clock-C-RYs_H9.js";import{E as fe}from"./external-link-DZQGqP3v.js";import{C as we}from"./circle-alert-ChKOY3ny.js";import{f as Ne}from"./format-DTT9lmme.js";import{T as Ce,a as ve,b as N,c as be,d as ye,e as R}from"./table-Bv1KaM5_.js";import{S as Se,a as ke,b as Pe,c as Re,d as _e}from"./select-CFewNsWn.js";import{P as Ie,a as Me,b as Fe}from"./popover-BSHhTKwD.js";import"./useQuery-DhF4caix.js";import"./en-US-CAGN61RY.js";import"./chevron-down-C1tfVdut.js";function o({column:s,title:a,className:t}){return s.getCanSort()?e.jsx("div",{className:c("flex items-center space-x-2",t),children:e.jsxs(_,{children:[e.jsx(T,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[e.jsx("span",{children:a}),s.getIsSorted()==="desc"?e.jsx(y,{className:"ml-2 h-4 w-4"}):s.getIsSorted()==="asc"?e.jsx(S,{className:"ml-2 h-4 w-4"}):e.jsx(Z,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(I,{align:"start",children:[e.jsxs(w,{onClick:()=>s.toggleSorting(!1),children:[e.jsx(S,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),e.jsxs(w,{onClick:()=>s.toggleSorting(!0),children:[e.jsx(y,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),s.getCanHide()&&e.jsxs(e.Fragment,{children:[e.jsx(M,{}),e.jsxs(w,{onClick:()=>s.toggleVisibility(!1),children:[e.jsx(ee,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})]})}):e.jsx("div",{className:c(t),children:a})}const Ve=[{id:"select",header:({table:s})=>e.jsx(k,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>s.toggleAllPageRowsSelected(!!a),"aria-label":"Select all",className:"translate-y-[2px]"}),meta:{className:c("sticky md:table-cell left-0 z-10 rounded-tl","bg-background transition-colors duration-200 group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted")},cell:({row:s})=>e.jsx(k,{checked:s.getIsSelected(),onCheckedChange:a=>s.toggleSelected(!!a),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"url",header:({column:s})=>e.jsx(o,{column:s,title:"Page URL"}),cell:({row:s})=>e.jsx(p,{className:"max-w-36 text-blue-600 hover:underline",children:e.jsx("a",{href:s.getValue("url"),target:"_blank",rel:"noopener noreferrer",children:s.getValue("url")})}),meta:{className:c("drop-shadow-[0_1px_2px_rgb(0_0_0_/_0.1)] dark:drop-shadow-[0_1px_2px_rgb(255_255_255_/_0.1)] lg:drop-shadow-none","bg-background transition-colors duration-200 group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted","sticky left-6 md:table-cell")},enableHiding:!1},{accessorKey:"title",header:({column:s})=>e.jsx(o,{column:s,title:"Page Title"}),cell:({row:s})=>e.jsx(p,{className:"max-w-36",children:s.getValue("title")})},{accessorKey:"status_code",header:({column:s})=>e.jsx(o,{column:s,title:"Status"}),cell:({row:s})=>{const a=s.getValue("status_code");let t="bg-green-100 text-green-800";return a===404||a===500?t="bg-red-100 text-red-800":(a===301||a===302)&&(t="bg-yellow-100 text-yellow-800"),e.jsx(f,{variant:"outline",className:c(t),children:a})},filterFn:(s,a,t)=>t.includes(s.getValue(a))},{accessorKey:"duration_time",header:({column:s})=>e.jsx(o,{column:s,title:"Load Time"}),cell:({row:s})=>{const a=s.getValue("duration_time");let t="text-green-600";return a>3e3?t="text-red-600":a>1500&&(t="text-yellow-600"),e.jsxs("div",{className:c("flex items-center gap-1",t),children:[e.jsx(pe,{className:"h-3 w-3"}),e.jsxs("span",{children:[(a/1e3).toFixed(2),"s"]})]})}},{accessorKey:"inbound_links_count",header:({column:s})=>e.jsx(o,{column:s,title:"Internal Links (In)"}),cell:({row:s})=>e.jsx("div",{children:s.getValue("inbound_links_count")})},{accessorKey:"internal_links_count",header:({column:s})=>e.jsx(o,{column:s,title:"Internal Links (Out)"}),cell:({row:s})=>e.jsx("div",{children:s.getValue("internal_links_count")})},{accessorKey:"external_links_count",header:({column:s})=>e.jsx(o,{column:s,title:"External Links"}),cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:s.getValue("external_links_count")}),e.jsx(fe,{className:"h-3 w-3 text-gray-500"})]})},{accessorKey:"description",header:({column:s})=>e.jsx(o,{column:s,title:"Meta Description"}),cell:({row:s})=>{const a=s.getValue("description");return a?e.jsx(p,{className:"max-w-36",children:a}):e.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[e.jsx(we,{className:"h-3 w-3"}),e.jsx("span",{children:"Missing"})]})}},{accessorKey:"canonical",header:({column:s})=>e.jsx(o,{column:s,title:"Canonical URL"}),cell:({row:s})=>{const a=s.original.canonical;return a?e.jsx(p,{className:"max-w-36 text-blue-600 hover:underline",children:e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:a})}):e.jsx("span",{className:"text-gray-500",children:"-"})}},{accessorKey:"structured_data",header:({column:s})=>e.jsx(o,{column:s,title:"Structured Data"})},{accessorKey:"fetch_time",header:({column:s})=>e.jsx(o,{column:s,title:"Last Crawled"}),cell:({row:s})=>{const a=s.getValue("fetch_time");return e.jsx("div",{className:"text-gray-600",children:Ne(a,"dd/MM/yyyy")})}}];function Te({table:s}){return e.jsxs("div",{className:"flex items-center justify-between overflow-clip px-2",style:{overflowClipMargin:1},children:[e.jsxs("div",{className:"hidden flex-1 text-sm text-muted-foreground sm:block",children:[s.getFilteredSelectedRowModel().rows.length," of"," ",s.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"flex items-center sm:space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"hidden text-sm font-medium sm:block",children:"Rows per page"}),e.jsxs(Se,{value:`${s.getState().pagination.pageSize}`,onValueChange:a=>{s.setPageSize(Number(a))},children:[e.jsx(ke,{className:"h-8 w-[70px]",children:e.jsx(Pe,{placeholder:s.getState().pagination.pageSize})}),e.jsx(Re,{side:"top",children:[10,20,30,40,50].map(a=>e.jsx(_e,{value:`${a}`,children:a},a))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(d,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(se,{className:"h-4 w-4"})]}),e.jsxs(d,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(ae,{className:"h-4 w-4"})]}),e.jsxs(d,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(te,{className:"h-4 w-4"})]}),e.jsxs(d,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(le,{className:"h-4 w-4"})]})]})]})]})}function De({column:s,title:a,options:t}){const n=s==null?void 0:s.getFacetedUniqueValues(),l=new Set(s==null?void 0:s.getFilterValue());return e.jsxs(Ie,{children:[e.jsx(Me,{asChild:!0,children:e.jsxs(d,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(re,{className:"h-4 w-4"}),a,(l==null?void 0:l.size)>0&&e.jsxs(e.Fragment,{children:[e.jsx(D,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(f,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:l.size}),e.jsx("div",{className:"hidden space-x-1 lg:flex",children:l.size>2?e.jsxs(f,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[l.size," selected"]}):t.filter(r=>l.has(r.value)).map(r=>e.jsx(f,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:r.label},r.value))})]})]})}),e.jsx(Fe,{className:"w-[200px] p-0",align:"start",children:e.jsxs(L,{children:[e.jsx(H,{placeholder:a}),e.jsxs(z,{children:[e.jsx(K,{children:"No results found."}),e.jsx(v,{children:t.map(r=>{const u=l.has(r.value);return e.jsxs(b,{onSelect:()=>{u?l.delete(r.value):l.add(r.value);const j=Array.from(l);s==null||s.setFilterValue(j.length?j:void 0)},children:[e.jsx("div",{className:c("flex h-4 w-4 items-center justify-center rounded-sm border border-primary",u?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(ne,{className:c("h-4 w-4")})}),r.icon&&e.jsx(r.icon,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:r.label}),(n==null?void 0:n.get(r.value))&&e.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:n.get(r.value)})]},r.value)})}),l.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx(v,{children:e.jsx(b,{onSelect:()=>s==null?void 0:s.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function Le({table:s}){return e.jsxs(_,{modal:!1,children:[e.jsx(E,{asChild:!0,children:e.jsxs(d,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsxs(I,{align:"end",className:"w-[150px]",children:[e.jsx(U,{children:"Toggle columns"}),e.jsx(M,{}),s.getAllColumns().filter(a=>typeof a.accessorFn<"u"&&a.getCanHide()).map(a=>e.jsx(O,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:t=>a.toggleVisibility(!!t),children:a.id},a.id))]})]})}function He({table:s}){var t;const a=s.getState().columnFilters.length>0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[e.jsx(G,{placeholder:"Filter URLs...",value:((t=s.getColumn("url"))==null?void 0:t.getFilterValue())??"",onChange:n=>{var l;return(l=s.getColumn("url"))==null?void 0:l.setFilterValue(n.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),e.jsx("div",{className:"flex gap-x-2",children:s.getColumn("status_code")&&e.jsx(De,{column:s.getColumn("status_code"),title:"HTTP Status",options:[{label:"200 OK",value:"200"},{label:"301 Redirect",value:"301"},{label:"302 Redirect",value:"302"},{label:"404 Not Found",value:"404"},{label:"500 Server Error",value:"500"}]})}),a&&e.jsxs(d,{variant:"ghost",onClick:()=>s.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(oe,{className:"ml-2 h-4 w-4"})]})]}),e.jsx(Le,{table:s})]})}function ze({columns:s,data:a}){var C;const[t,n]=x.useState({}),[l,r]=x.useState({}),[u,j]=x.useState([]),[F,V]=x.useState([]),g=ce({data:a,columns:s,state:{sorting:F,columnVisibility:l,rowSelection:t,columnFilters:u},enableRowSelection:!0,onRowSelectionChange:n,onSortingChange:V,onColumnFiltersChange:j,onColumnVisibilityChange:r,getCoreRowModel:ue(),getFilteredRowModel:he(),getPaginationRowModel:ge(),getSortedRowModel:me(),getFacetedRowModel:xe(),getFacetedUniqueValues:de()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(He,{table:g}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ce,{children:[e.jsx(ve,{children:g.getHeaderGroups().map(m=>e.jsx(N,{className:"group/row",children:m.headers.map(i=>{var h;return e.jsx(be,{colSpan:i.colSpan,className:((h=i.column.columnDef.meta)==null?void 0:h.className)??"",children:i.isPlaceholder?null:P(i.column.columnDef.header,i.getContext())},i.id)})},m.id))}),e.jsx(ye,{children:(C=g.getRowModel().rows)!=null&&C.length?g.getRowModel().rows.map(m=>e.jsx(N,{"data-state":m.getIsSelected()&&"selected",className:"group/row",children:m.getVisibleCells().map(i=>{var h;return e.jsx(R,{className:((h=i.column.columnDef.meta)==null?void 0:h.className)??"",children:P(i.column.columnDef.cell,i.getContext())},i.id)})},m.id)):e.jsx(N,{children:e.jsx(R,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(Te,{table:g})]})}const Ke=B.createContext(null);function Ae({children:s}){const[a,t]=je(null),[n,l]=x.useState(null);return e.jsx(Ke.Provider,{value:{open:a,setOpen:t,currentRow:n,setCurrentRow:l},children:s})}function Ee(){const[s,a]=x.useState([]),{mutate:t}=$({onSuccess(n,l,r){console.log("data",n.data),a(n.data)}});return x.useEffect(()=>{t({target:"geeksforgeeks.org",limit:10})},[]),e.jsxs(Ae,{children:[e.jsxs(J,{fixed:!0,children:[e.jsx(Q,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(W,{}),e.jsx(X,{})]})]}),e.jsxs(Y,{children:[e.jsx("div",{className:"mb-2 flex flex-wrap items-center justify-between space-y-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CrawledPage List"}),e.jsx("p",{className:"text-muted-foreground",children:"All the crawled pages from the website are listed here."})]})}),e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:e.jsx(ze,{data:s,columns:Ve})})]})]})}const as=q("/_authenticated/seo/technical-analysis/crawled-pages")({component:Ee});export{as as Route};
