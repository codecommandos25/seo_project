import{j as e,d as x,D as M,x as L,B as c,y as F,E as w,H as T,s as f,Z as A,_ as z,J as H,K,M as B,O as E,Q as U,R as y,T as C,U as G,V as O,W as q,X as $,I as X,r as d,Y,c as J}from"./index-By8YJrdC.js";import{h as Q}from"./index-CDWW3x1E.js";import{H as W,S as Z,T as ee,P as se,M as ae}from"./theme-switch-BY8tNAc1.js";import{A as b,a as k,C as te,E as le,b as S,L as p,D as re,c as ne,d as ie,e as oe,P as ce,f as de,M as xe,g as ue,u as ge,h as _,i as me,j as he,k as je,l as pe,m as fe,n as we,o as Ne}from"./use-dialog-state-72z18lxP.js";import{E as ve}from"./external-link-DZQGqP3v.js";import{f as R}from"./format-DTT9lmme.js";import{T as ye,a as Ce,b as N,c as be,d as ke,e as V}from"./table-Bv1KaM5_.js";import{S as Se,a as _e,b as Re,c as Ve,d as Pe}from"./select-CFewNsWn.js";import{P as Me,a as Fe,b as Te}from"./popover-BSHhTKwD.js";import"./useQuery-DhF4caix.js";import"./en-US-CAGN61RY.js";import"./chevron-down-C1tfVdut.js";function i({column:s,title:a,className:t}){return s.getCanSort()?e.jsx("div",{className:x("flex items-center space-x-2",t),children:e.jsxs(M,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(c,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[e.jsx("span",{children:a}),s.getIsSorted()==="desc"?e.jsx(b,{className:"ml-2 h-4 w-4"}):s.getIsSorted()==="asc"?e.jsx(k,{className:"ml-2 h-4 w-4"}):e.jsx(te,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(F,{align:"start",children:[e.jsxs(w,{onClick:()=>s.toggleSorting(!1),children:[e.jsx(k,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),e.jsxs(w,{onClick:()=>s.toggleSorting(!0),children:[e.jsx(b,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),s.getCanHide()&&e.jsxs(e.Fragment,{children:[e.jsx(T,{}),e.jsxs(w,{onClick:()=>s.toggleVisibility(!1),children:[e.jsx(le,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})]})}):e.jsx("div",{className:x(t),children:a})}const Ie=[{id:"select",header:({table:s})=>e.jsx(S,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>s.toggleAllPageRowsSelected(!!a),"aria-label":"Select all",className:"translate-y-[2px]"}),meta:{className:x("sticky md:table-cell left-0 z-10 rounded-tl","bg-background transition-colors duration-200 group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted")},cell:({row:s})=>e.jsx(S,{checked:s.getIsSelected(),onCheckedChange:a=>s.toggleSelected(!!a),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"source_page",header:({column:s})=>e.jsx(i,{column:s,title:"Source Page"}),cell:({row:s})=>e.jsx(p,{className:"max-w-36",children:s.getValue("source_page")}),meta:{className:x("drop-shadow-[0_1px_2px_rgb(0_0_0_/_0.1)] dark:drop-shadow-[0_1px_2px_rgb(255_255_255_/_0.1)] lg:drop-shadow-none","bg-background transition-colors duration-200 group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted","sticky left-6 md:table-cell")},enableHiding:!1},{accessorKey:"source_url",header:({column:s})=>e.jsx(i,{column:s,title:"Source URL"}),cell:({row:s})=>e.jsx(p,{className:"max-w-36 text-blue-600 hover:underline",children:e.jsxs("a",{href:s.getValue("source_url"),target:"_blank",rel:"noopener noreferrer",children:[s.getValue("source_url"),e.jsx(ve,{className:"ml-1 inline h-3 w-3"})]})})},{accessorKey:"target_url",header:({column:s})=>e.jsx(i,{column:s,title:"Target URL"}),cell:({row:s})=>e.jsx(p,{className:"max-w-36 text-blue-600 hover:underline",children:e.jsx("a",{href:s.getValue("target_url"),target:"_blank",rel:"noopener noreferrer",children:s.getValue("target_url")})})},{accessorKey:"anchor_text",header:({column:s})=>e.jsx(i,{column:s,title:"Anchor Text"}),cell:({row:s})=>e.jsx(p,{className:"max-w-36",children:s.getValue("anchor_text")})},{accessorKey:"linked_type",header:({column:s})=>e.jsx(i,{column:s,title:"Link Type"}),cell:({row:s})=>{const a=s.getValue("linked_type"),t=n=>{switch(n){case"follow":return"bg-green-100 text-green-800";case"nofollow":return"bg-yellow-100 text-yellow-800";case"sponsored":return"bg-blue-100 text-blue-800";case"ugc":return"bg-purple-100 text-purple-800";default:return""}};return e.jsx(f,{variant:"outline",className:x("capitalize",t(a)),children:a})},filterFn:(s,a,t)=>t.includes(s.getValue(a))},{accessorKey:"external_links",header:({column:s})=>e.jsx(i,{column:s,title:"External Links"}),cell:({row:s})=>e.jsx("div",{children:s.getValue("external_links")})},{accessorKey:"internal_links",header:({column:s})=>e.jsx(i,{column:s,title:"Internal Links"}),cell:({row:s})=>e.jsx("div",{children:s.getValue("internal_links")})},{accessorKey:"domain_authority",header:({column:s})=>e.jsx(i,{column:s,title:"Domain Authority"}),cell:({row:s})=>{const a=s.getValue("domain_authority");return e.jsx("div",{children:a??"N/A"})}},{accessorKey:"page_authority",header:({column:s})=>e.jsx(i,{column:s,title:"Page Authority"}),cell:({row:s})=>{const a=s.getValue("page_authority");return e.jsx("div",{children:a??"N/A"})}},{accessorKey:"status",header:({column:s})=>e.jsx(i,{column:s,title:"Status"}),cell:({row:s})=>{const a=s.getValue("status"),t=s.original.status;return e.jsxs("div",{className:"flex items-center gap-1",children:[a===!0?e.jsx(A,{className:"h-4 w-4 text-green-500"}):a===!1?e.jsx(z,{className:"h-4 w-4 text-red-500"}):null,t&&e.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:t})]})}},{accessorKey:"first_seen",header:({column:s})=>e.jsx(i,{column:s,title:"First Seen"}),cell:({row:s})=>{const a=s.getValue("first_seen");return e.jsx("div",{children:R(a,"dd/MM/yyyy")})}},{accessorKey:"last_seen",header:({column:s})=>e.jsx(i,{column:s,title:"Last Seen"}),cell:({row:s})=>{const a=s.getValue("last_seen");return e.jsx("div",{children:R(a,"dd/MM/yyyy")})}}];function De({table:s}){return e.jsxs("div",{className:"flex items-center justify-between overflow-clip px-2",style:{overflowClipMargin:1},children:[e.jsxs("div",{className:"hidden flex-1 text-sm text-muted-foreground sm:block",children:[s.getFilteredSelectedRowModel().rows.length," of"," ",s.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"flex items-center sm:space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"hidden text-sm font-medium sm:block",children:"Rows per page"}),e.jsxs(Se,{value:`${s.getState().pagination.pageSize}`,onValueChange:a=>{s.setPageSize(Number(a))},children:[e.jsx(_e,{className:"h-8 w-[70px]",children:e.jsx(Re,{placeholder:s.getState().pagination.pageSize})}),e.jsx(Ve,{side:"top",children:[10,20,30,40,50].map(a=>e.jsx(Pe,{value:`${a}`,children:a},a))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(c,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(re,{className:"h-4 w-4"})]}),e.jsxs(c,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(ne,{className:"h-4 w-4"})]}),e.jsxs(c,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(ie,{className:"h-4 w-4"})]}),e.jsxs(c,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(oe,{className:"h-4 w-4"})]})]})]})]})}function P({column:s,title:a,options:t}){const n=s==null?void 0:s.getFacetedUniqueValues(),l=new Set(s==null?void 0:s.getFilterValue());return e.jsxs(Me,{children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(ce,{className:"h-4 w-4"}),a,(l==null?void 0:l.size)>0&&e.jsxs(e.Fragment,{children:[e.jsx(H,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(f,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:l.size}),e.jsx("div",{className:"hidden space-x-1 lg:flex",children:l.size>2?e.jsxs(f,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[l.size," selected"]}):t.filter(r=>l.has(r.value)).map(r=>e.jsx(f,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:r.label},r.value))})]})]})}),e.jsx(Te,{className:"w-[200px] p-0",align:"start",children:e.jsxs(K,{children:[e.jsx(B,{placeholder:a}),e.jsxs(E,{children:[e.jsx(U,{children:"No results found."}),e.jsx(y,{children:t.map(r=>{const h=l.has(r.value);return e.jsxs(C,{onSelect:()=>{h?l.delete(r.value):l.add(r.value);const j=Array.from(l);s==null||s.setFilterValue(j.length?j:void 0)},children:[e.jsx("div",{className:x("flex h-4 w-4 items-center justify-center rounded-sm border border-primary",h?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(de,{className:x("h-4 w-4")})}),r.icon&&e.jsx(r.icon,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:r.label}),(n==null?void 0:n.get(r.value))&&e.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:n.get(r.value)})]},r.value)})}),l.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(G,{}),e.jsx(y,{children:e.jsx(C,{onSelect:()=>s==null?void 0:s.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function Le({table:s}){return e.jsxs(M,{modal:!1,children:[e.jsx(O,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsxs(F,{align:"end",className:"w-[150px]",children:[e.jsx(q,{children:"Toggle columns"}),e.jsx(T,{}),s.getAllColumns().filter(a=>typeof a.accessorFn<"u"&&a.getCanHide()).map(a=>e.jsx($,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:t=>a.toggleVisibility(!!t),children:a.id},a.id))]})]})}function Ae({table:s}){var t;const a=s.getState().columnFilters.length>0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[e.jsx(X,{placeholder:"Filter by anchor text...",value:((t=s.getColumn("anchor_text"))==null?void 0:t.getFilterValue())??"",onChange:n=>{var l;return(l=s.getColumn("anchor_text"))==null?void 0:l.setFilterValue(n.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),e.jsxs("div",{className:"flex gap-x-2",children:[s.getColumn("linked_type")&&e.jsx(P,{column:s.getColumn("linked_type"),title:"Link Type",options:[{label:"Follow",value:"follow"},{label:"Nofollow",value:"nofollow"},{label:"Sponsored",value:"sponsored"},{label:"UGC",value:"ugc"}]}),s.getColumn("status")&&e.jsx(P,{column:s.getColumn("status"),title:"Status",options:[{label:"Live",value:"true"},{label:"Not Live",value:"false"}]})]}),a&&e.jsxs(c,{variant:"ghost",onClick:()=>s.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(ue,{className:"ml-2 h-4 w-4"})]})]}),e.jsx(Le,{table:s})]})}function ze({columns:s,data:a}){var v;const[t,n]=d.useState({}),[l,r]=d.useState({}),[h,j]=d.useState([]),[I,D]=d.useState([]),g=ge({data:a,columns:s,state:{sorting:I,columnVisibility:l,rowSelection:t,columnFilters:h},enableRowSelection:!0,onRowSelectionChange:n,onSortingChange:D,onColumnFiltersChange:j,onColumnVisibilityChange:r,getCoreRowModel:we(),getFilteredRowModel:fe(),getPaginationRowModel:pe(),getSortedRowModel:je(),getFacetedRowModel:he(),getFacetedUniqueValues:me()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ae,{table:g}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(ye,{children:[e.jsx(Ce,{children:g.getHeaderGroups().map(u=>e.jsx(N,{className:"group/row",children:u.headers.map(o=>{var m;return e.jsx(be,{colSpan:o.colSpan,className:((m=o.column.columnDef.meta)==null?void 0:m.className)??"",children:o.isPlaceholder?null:_(o.column.columnDef.header,o.getContext())},o.id)})},u.id))}),e.jsx(ke,{children:(v=g.getRowModel().rows)!=null&&v.length?g.getRowModel().rows.map(u=>e.jsx(N,{"data-state":u.getIsSelected()&&"selected",className:"group/row",children:u.getVisibleCells().map(o=>{var m;return e.jsx(V,{className:((m=o.column.columnDef.meta)==null?void 0:m.className)??"",children:_(o.column.columnDef.cell,o.getContext())},o.id)})},u.id)):e.jsx(N,{children:e.jsx(V,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(De,{table:g})]})}const He=Y.createContext(null);function Ke({children:s}){const[a,t]=Ne(null),[n,l]=d.useState(null);return e.jsx(He.Provider,{value:{open:a,setOpen:t,currentRow:n,setCurrentRow:l},children:s})}function Be(){const[s,a]=d.useState([]),{mutate:t}=Q({onSuccess(n,l,r){console.log("data",n.data),a(n.data)}});return d.useEffect(()=>{t([{target:"forbes.com",mode:"as_is",filters:["dofollow","=",!0],limit:5}])},[]),e.jsxs(Ke,{children:[e.jsxs(W,{fixed:!0,children:[e.jsx(Z,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(ee,{}),e.jsx(se,{})]})]}),e.jsxs(ae,{children:[e.jsx("div",{className:"mb-2 flex flex-wrap items-center justify-between space-y-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Backlink List"}),e.jsx("p",{className:"text-muted-foreground",children:"All the backlinks that are pointing to your website. You can filter, sort, and search for specific backlinks."})]})}),e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:e.jsx(ze,{data:s,columns:Ie})})]})]})}const es=J("/_authenticated/seo/backlink-analysis")({component:Be});export{es as Route};
